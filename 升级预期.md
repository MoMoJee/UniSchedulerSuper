- **反馈驱动的AI进化**
  - **反馈闭环机制**：用户对AI生成结果可标记“合理”或“不合理”，系统记录反馈并动态更新用户偏好库（如“拒绝深夜任务”）；
  - **用户提示词保留机制**： 后端会自动提取用户提示词中隐含的”纠正语句”，例如将“重新安排周一的日程，我想要早点睡觉”，提取为规则：不要在九点之后安排日程

1. **双模态AI共有的的创新实现**

   - **冲突检测与智能绕行的实现原理**：
  
     用户选中待优化时间段后，系统自动打包该时段内所有现有日程数据（JSON格式），输入大模型进行冲突检测与智能调整，输出优化后的日程方案，具体流程如下：
  
     - 模型基于现有日程数据，自动计算可用时间块（如组会后的15:30-17:30）；
    
     - 根据用户历史偏好（如倾向午后学习）分配时段，生成无冲突日程；
    

- **System Prompt工程化设计**
  - **Prompt迭代过程**（如V1.0仅基础避让 → V2.0加入优先级协商 → V3.0整合联网搜索），体现工程优化路径。
    - **角色定义与任务约束**：通过预置Prompt将大模型（DeepSeek/Moonshot）定位为“时间规划专家”，明确其需遵循的规则（这里需要附上我们的prompt）：
    - **输出标准化**：强制模型返回严格结构化的JSON数据，后端通过Python的`json`库解析并校验字段完整性，对格式错误自动触发重试机制。
    - **反馈驱动的AI进化**
      - **反馈闭环机制**：用户对AI生成结果可标记“合理”或“不合理”，系统记录反馈并动态更新用户偏好库（如“拒绝深夜任务”）；
      - **用户提示词保留机制**： 后端会自动提取用户提示词中隐含的”纠正语句”，例如将“重新安排周一的日程，我想要早点睡觉”，提取为规则：不要在九点之后安排日程


2. **调优模型特有的创新实现**
- **冲突诊断与动态修正**
  
  - **多维度冲突检测**：
    
    - **时间冲突**：基于区间树检测时间段重叠；
      
    - **资源冲突**：检测会议室/设备占用情况（如Zoom会议室已被预订）；
      
    - **逻辑冲突**：识别矛盾任务（如“通宵学习”与“晨跑”）。
      
  - **智能调整策略**：
    
    | 冲突类型 | 调整方案 | 示例  |
    | --- | --- | --- |
    | 时间重叠 | 拆分任务 | 将“3小时编程”拆分为“1.5小时×2次” |
    | 资源占用 | 替换资源 | 从“Zoom会议室A”切换至“腾讯会议室B” |
    | 逻辑矛盾 | 优先级重排 | 删除“通宵学习”，增加“早睡提醒” |
    
- **历史行为驱动的优化**
  
  - **用户习惯挖掘**：
    
    - 分析用户历史数据，发现“每周五下午效率低下”，自动建议将高优先级任务移至其他时段。
  - **动态资源调度**：
    
    - 若用户频繁调整某类任务（如“会议”），自动为其预留缓冲时间（默认+15分钟）。


5. **生成模型特有的创新实现**

- **语义驱动的无冲突生成**
  
  - **自然语言解析增强**：
    
    - 使用`tool call`功能，将用户输入（如“复习高数”）解析为结构化参数：
      
      ```json
      "task_type": "学习",  
      "duration": 2,  
      "priority": "高",  
      "required_resources": ["安静环境"]  
      ```
      
  - **优先级弹性避让**：
    
    - 若时间资源紧张，允许低优先级任务（如“娱乐”）与高优先级任务（如“复习”）部分重叠，但需生成警告：
      
      ```
      "conflict_warning": {  
          "type": "priority_overlap",  
          "message": "检测到与‘看电影’重叠1小时，是否缩短娱乐时间？"  
      }  
      ```
      
- **联网搜索动态赋能**
  
  - **资源智能关联**：
    
    - 根据任务类型自动查询有关信息，例如用户提到”火车出行“，自动调用搜索功能查询今日车票车次。
  - **环境适配决策**：
    
    - 调用天气API，若检测到“暴雨”，自动将“户外跑步”调整为“室内健身”。

3.历史行为驱动的优化
(1)用户习惯挖掘：
•分析用户历史数据，发现“每周五下午效率低下”，自动建议将高优先级任务移至其他时段。
(2)动态资源调度：
•若用户频繁调整某类任务（如“会议”），自动为其预留缓冲时间（默认+15分钟）。