# UniSchedulerSuper - URL è·¯ç”±åŠŸèƒ½è¯´æ˜æ–‡æ¡£

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
> **åˆ›å»ºæ—¥æœŸ**: 2025-11-07  
> **ç»´æŠ¤çŠ¶æ€**: æŒç»­æ›´æ–°ä¸­  
> **ç”¨é€”**: è®°å½•æ‰€æœ‰ URL è·¯ç”±çš„åŠŸèƒ½ã€å‚æ•°ã€ä½¿ç”¨åœºæ™¯ï¼Œä¾¿äºåç»­å¼€å‘å’Œç»´æŠ¤

---

## ğŸ“‹ æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº† `core` åº”ç”¨ä¸­æ‰€æœ‰ URL è·¯ç”±çš„åŠŸèƒ½è¯´æ˜ã€‚è·¯ç”±æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç±»ï¼Œä¾¿äºæŸ¥æ‰¾å’Œç†è§£ã€‚
å¾ˆä¸å¹¸ï¼Œä¸»åŒ…å‡ ä¹æ²¡ç»™æœåŠ¡å™¨ä¾§å†™ä»»ä½•å‚æ•°æ£€æŸ¥å’ŒæŠ¥é”™æœºåˆ¶ï¼Œæ­¤å‰å…¨é æµè§ˆå™¨ç«¯çš„é…åˆã€‚å› æ­¤å¦‚æœç”¨APIç„¶åå‚æ•°ä¼ é”™äº†ï¼Œé‚£ç»“æœåªæœ‰å¤©çŸ¥é“

---

## ğŸ¯ æ¨¡å—åˆ†ç±»æ€»è§ˆ

- [é¡µé¢è·¯ç”±æ¨¡å—](#é¡µé¢è·¯ç”±æ¨¡å—) - ç”¨æˆ·ç•Œé¢é¡µé¢
- [Events æ—¥ç¨‹ç®¡ç†æ¨¡å—](#events-æ—¥ç¨‹ç®¡ç†æ¨¡å—) - æ—¥ç¨‹ç›¸å…³æ“ä½œ
- [Reminders æé†’ç®¡ç†æ¨¡å—](#reminders-æé†’ç®¡ç†æ¨¡å—) - æé†’ç›¸å…³æ“ä½œ
- [Todos å¾…åŠç®¡ç†æ¨¡å—](#todos-å¾…åŠç®¡ç†æ¨¡å—) - å¾…åŠäº‹é¡¹æ“ä½œ
- [ç”¨æˆ·è®¾ç½®æ¨¡å—](#ç”¨æˆ·è®¾ç½®æ¨¡å—) - ç”¨æˆ·é…ç½®ç›¸å…³
- [å…¶ä»–åŠŸèƒ½æ¨¡å—](#å…¶ä»–åŠŸèƒ½æ¨¡å—) - å…¶ä»–è¾…åŠ©åŠŸèƒ½

---

## ğŸ“„ é¡µé¢è·¯ç”±æ¨¡å—

### 1. `/` - é¦–é¡µ

**è§†å›¾å‡½æ•°**: `views.index`

**è¯·æ±‚æ–¹å¼**: GET

**åŠŸèƒ½è¯´æ˜**:
- åº”ç”¨çš„æ¬¢è¿é¡µé¢/ç€é™†é¡µ
- æœªç™»å½•ç”¨æˆ·çš„å…¥å£é¡µé¢

**æ¨¡æ¿**: `index.html`

---

### 2. `/about/` - å…³äºé¡µé¢

**è§†å›¾å‡½æ•°**: `views.about`

**è¯·æ±‚æ–¹å¼**: GET

**åŠŸèƒ½è¯´æ˜**:
- æ˜¾ç¤ºåº”ç”¨çš„å…³äºä¿¡æ¯
- è‡ªåŠ¨è¯»å– `core/static/about.md` æ–‡ä»¶
- å°† Markdown å†…å®¹è½¬æ¢ä¸º HTML å¹¶æ¸²æŸ“

**æ¨¡æ¿**: `about.html`

**ç‰¹ç‚¹**:
- ğŸ“ æ”¯æŒ Markdown æ ¼å¼
- ğŸ”„ åŠ¨æ€è¯»å–æ–‡ä»¶å†…å®¹

---

### 3. `/home/` - ä¸»åº”ç”¨é¡µé¢

**è§†å›¾å‡½æ•°**: `views.home`

**è¯·æ±‚æ–¹å¼**: GET

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½• (`@login_required`)

**åŠŸèƒ½è¯´æ˜**:
- åº”ç”¨çš„**æ ¸å¿ƒå·¥ä½œé¡µé¢**ï¼ŒåŒ…å«æ—¥å†è§†å›¾
- åˆå§‹åŒ–ç”¨æˆ·å¿…éœ€çš„æ•°æ®ç»“æ„
- ä¼ é€’æ—¥ç¨‹ç»„æ•°æ®åˆ°å‰ç«¯

**åˆå§‹åŒ–æ•°æ®**:
1. `user_preference` - ç”¨æˆ·åå¥½è®¾ç½®
2. `events_groups` - æ—¥ç¨‹ç»„åˆ—è¡¨ï¼ˆé»˜è®¤4ä¸ªç»„ï¼‰
3. `planner` - AI è§„åˆ’æ•°æ®
4. `rrule_series_storage` - RRule ç³»åˆ—å­˜å‚¨

**ä¸Šä¸‹æ–‡æ•°æ®**:
```python
{
    "datetime": "å½“å‰æ—¶é—´",
    "user": "å½“å‰ç”¨æˆ·å¯¹è±¡",
    "events_groups": "æ—¥ç¨‹ç»„JSONæ•°æ®"
}
```

**æ¨¡æ¿**: `home_new.html`

**ç‰¹ç‚¹**:
- ğŸ¯ æ ¸å¿ƒå·¥ä½œåŒºåŸŸ
- ğŸ”„ è‡ªåŠ¨åˆå§‹åŒ–ç”¨æˆ·æ•°æ®
- ğŸ“Š æ—¥å†è§†å›¾å®¹å™¨

---

### 4. `/user_register/` - ç”¨æˆ·æ³¨å†Œ

**è§†å›¾å‡½æ•°**: `views.user_register`

**è¯·æ±‚æ–¹å¼**: GET, POST

**åŠŸèƒ½è¯´æ˜**:
- GET: æ˜¾ç¤ºæ³¨å†Œè¡¨å•
- POST: å¤„ç†æ³¨å†Œé€»è¾‘ï¼Œåˆ›å»ºæ–°ç”¨æˆ·å¹¶è‡ªåŠ¨ç™»å½•

**è¡¨å•**: `RegisterForm` (åŒ…å« username, email, password1, password2)

**æˆåŠŸåè·³è½¬**: `/home/` ä¸»é¡µé¢

**æ¨¡æ¿**: `user_register.html`

---

### 5. `/user_login/` - ç”¨æˆ·ç™»å½•

**è§†å›¾å‡½æ•°**: `views.user_login`

**è¯·æ±‚æ–¹å¼**: GET, POST

**åŠŸèƒ½è¯´æ˜**:
- GET: æ˜¾ç¤ºç™»å½•è¡¨å•
- POST: éªŒè¯ç”¨æˆ·å‡­æ®å¹¶ç™»å½•

**è¡¨å•**: Django å†…ç½® `AuthenticationForm`

**æˆåŠŸåè·³è½¬**: `/home/` ä¸»é¡µé¢

**æ¨¡æ¿**: `user_login.html`

---

### 6. `/user_logout/` - ç”¨æˆ·ç™»å‡º

**è§†å›¾å‡½æ•°**: `views.user_logout`

**è¯·æ±‚æ–¹å¼**: GET

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- ç™»å‡ºå½“å‰ç”¨æˆ·
- é‡å®šå‘åˆ°é¦–é¡µ

**è·³è½¬ç›®æ ‡**: `/` é¦–é¡µ

---

### 7. `/contact/` - è”ç³»é¡µé¢

**è§†å›¾å‡½æ•°**: `views.contact`

**è¯·æ±‚æ–¹å¼**: GET

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- æ˜¾ç¤ºè”ç³»ä¿¡æ¯æˆ–æµ‹è¯•é¡µé¢

**æ¨¡æ¿**: `contact.html`

**å¤‡æ³¨**: ä»£ç æ³¨é‡Šæ ‡è®°ä¸º"æµ‹è¯•"ç”¨é€”

---

### 8. `/help/` - å¸®åŠ©æ–‡æ¡£é¡µé¢

**è§†å›¾å‡½æ•°**: `views.help_page`

**è¯·æ±‚æ–¹å¼**: GET

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- æ˜¾ç¤ºåº”ç”¨çš„å¸®åŠ©æ–‡æ¡£å’Œä½¿ç”¨è¯´æ˜

**æ¨¡æ¿**: `help.html`

---

### 9. `/user_data/` - ç”¨æˆ·æ•°æ®æŸ¥çœ‹

**è§†å›¾å‡½æ•°**: `views.user_data`

**è¯·æ±‚æ–¹å¼**: GET

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- æ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„æ‰€æœ‰ UserData è®°å½•
- ç”¨äºè°ƒè¯•å’ŒæŸ¥çœ‹ç”¨æˆ·å­˜å‚¨çš„æ•°æ®

**ä¸Šä¸‹æ–‡æ•°æ®**:
```python
{
    "user_data": "å½“å‰ç”¨æˆ·çš„æ‰€æœ‰ UserData å¯¹è±¡åˆ—è¡¨"
}
```

**æ¨¡æ¿**: `user_data.html`

---

## ğŸ“… Events æ—¥ç¨‹ç®¡ç†æ¨¡å—

### 1. `/get_calendar/update_events/` - å¿«é€Ÿæ›´æ–°æ—¥ç¨‹

**è§†å›¾å‡½æ•°**: `views.update_events` â†’ `views_events.update_events_impl`

**è¯·æ±‚æ–¹å¼**: POST

**åŠŸèƒ½è¯´æ˜**:
- ç”¨äº**æ‹–æ‹½ç§»åŠ¨**æˆ–**è°ƒæ•´å¤§å°**æ—¶çš„å¿«é€Ÿæ›´æ–°
- ç”¨äº**ç®€å•ç¼–è¾‘æ¡†**ä¸­çš„åŸºæœ¬å­—æ®µä¿®æ”¹
- æ”¯æŒ**å•æ¬¡äº‹ä»¶è½¬é‡å¤äº‹ä»¶**ï¼ˆæ·»åŠ  RRuleï¼‰

**è¯·æ±‚å‚æ•°**:
```json
{
    "eventId": "äº‹ä»¶ID",
    "title": "æ ‡é¢˜",
    "newStart": "æ–°çš„å¼€å§‹æ—¶é—´ (ISOæ ¼å¼)",
    "newEnd": "æ–°çš„ç»“æŸæ—¶é—´ (ISOæ ¼å¼)",
    "description": "æè¿°",
    "importance": "important/not-important",
    "urgency": "urgent/not-urgent",
    "groupID": "æ—¥ç¨‹ç»„ID",
    "ddl": "æˆªæ­¢æ—¶é—´",
    "rrule": "é‡å¤è§„åˆ™ (å¯é€‰)",
    "rrule_change_scope": "single/all/future/from_time (ä»…é‡å¤äº‹ä»¶)"
}
```

**ä½¿ç”¨åœºæ™¯**:
- âœ… æ‹–æ‹½ç§»åŠ¨å•ä¸ªæ—¥ç¨‹åˆ°æ–°æ—¶é—´
- âœ… è°ƒæ•´æ—¥ç¨‹çš„æŒç»­æ—¶é—´
- âœ… ç¼–è¾‘æ¡†ä¸­ä¿®æ”¹æ—¥ç¨‹åŸºæœ¬ä¿¡æ¯
- âœ… å°†å•æ¬¡æ—¥ç¨‹è½¬æ¢ä¸ºé‡å¤æ—¥ç¨‹

**é‡å¤äº‹ä»¶å¤„ç†**:
- `single`: ä»…ä¿®æ”¹å•ä¸ªå®ä¾‹ï¼ˆä»ç³»åˆ—ä¸­ç‹¬ç«‹ï¼Œæ·»åŠ  EXDATEï¼‰
- `all`: ä¿®æ”¹æ•´ä¸ªç³»åˆ—
- `future`: ä¿®æ”¹å½“å‰åŠä¹‹åçš„å®ä¾‹
- `from_time`: ä»æŒ‡å®šæ—¶é—´å¼€å§‹ä¿®æ”¹

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success"
}
```

---

### 2. `/api/events/bulk-edit/` - æ‰¹é‡ç¼–è¾‘æ—¥ç¨‹

**è§†å›¾å‡½æ•°**: `views_events.bulk_edit_events_impl`

**è¯·æ±‚æ–¹å¼**: POST

**åŠŸèƒ½è¯´æ˜**:
- ç”¨äº**æ‰¹é‡ç¼–è¾‘**é‡å¤æ—¥ç¨‹
- ç”¨äº**åˆ é™¤æ“ä½œ**ï¼ˆå•ä¸ª/ç³»åˆ—/æ­¤åŠä¹‹åï¼‰
- æ”¯æŒ**ä¿®æ”¹ RRule è§„åˆ™**ï¼ˆæ”¹å˜é‡å¤æ¨¡å¼ï¼‰
- æ”¯æŒ**ç»“æŸé‡å¤ç³»åˆ—**ï¼ˆå°† RRule æ”¹ä¸ºç©ºï¼‰

**è¯·æ±‚å‚æ•°**:
```json
{
    "operation": "edit/delete",
    "event_id": "äº‹ä»¶ID",
    "edit_scope": "single/all/future/from_time",
    "series_id": "ç³»åˆ—ID (é‡å¤äº‹ä»¶å¿…éœ€)",
    "from_time": "èµ·å§‹æ—¶é—´ (scope=from_time æ—¶å¿…éœ€)",
    
    // ä»¥ä¸‹ä¸ºç¼–è¾‘æ“ä½œæ—¶çš„æ›´æ–°æ•°æ®
    "title": "æ ‡é¢˜",
    "description": "æè¿°",
    "importance": "é‡è¦æ€§",
    "urgency": "ç´§æ€¥æ€§",
    "start": "å¼€å§‹æ—¶é—´",
    "end": "ç»“æŸæ—¶é—´",
    "rrule": "æ–°çš„é‡å¤è§„åˆ™",
    "groupID": "æ—¥ç¨‹ç»„ID",
    "ddl": "æˆªæ­¢æ—¶é—´"
}
```

**ä½¿ç”¨åœºæ™¯**:
- âœ… åˆ é™¤å•ä¸ªæ—¥ç¨‹å®ä¾‹
- âœ… åˆ é™¤æ•´ä¸ªé‡å¤ç³»åˆ—
- âœ… åˆ é™¤"æ­¤æ—¥ç¨‹åŠä¹‹å"çš„æ‰€æœ‰å®ä¾‹
- âœ… æ‰¹é‡ä¿®æ”¹é‡å¤æ—¥ç¨‹çš„å±æ€§
- âœ… ä¿®æ”¹é‡å¤è§„åˆ™ï¼ˆå¦‚ä»æ¯å‘¨æ”¹ä¸ºæ¯æœˆï¼‰
- âœ… å–æ¶ˆé‡å¤ï¼ˆå°†é‡å¤æ—¥ç¨‹æ”¹ä¸ºå•æ¬¡ï¼‰

**åˆ é™¤æ“ä½œ (operation: "delete")**:
- `single`: åˆ é™¤å•ä¸ªå®ä¾‹ï¼ˆä½¿ç”¨ EXDATE æœºåˆ¶é˜²æ­¢é‡æ–°ç”Ÿæˆï¼‰
- `all`: åˆ é™¤æ•´ä¸ªé‡å¤ç³»åˆ—
- `future`: åˆ é™¤æ­¤åŠä¹‹åï¼ˆä½¿ç”¨ UNTIL æˆªæ–­ï¼‰

**ç¼–è¾‘æ“ä½œ (operation: "edit")**:
- `single`: ç¼–è¾‘å•ä¸ªå®ä¾‹ï¼ˆä»ç³»åˆ—ä¸­ç‹¬ç«‹ï¼‰
- `all`: ç¼–è¾‘æ•´ä¸ªç³»åˆ—
- `future`/`from_this`: ä»æŸæ—¶é—´ç‚¹å¼€å§‹ç¼–è¾‘
- æ”¯æŒ RRule å˜åŒ–æ£€æµ‹ï¼ˆè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦éœ€è¦åˆ›å»ºæ–°ç³»åˆ—ï¼‰

**ç‰¹æ®ŠåŠŸèƒ½**:
- â±ï¸ **è¶…æ—¶æ§åˆ¶**: 35 ç§’è¶…æ—¶ï¼Œ25 ç§’è­¦å‘Šè¿”å›
- ğŸ”„ **ä¸»äº‹ä»¶è½¬ç§»**: åˆ é™¤ä¸»äº‹ä»¶æ—¶è‡ªåŠ¨æå‡ä¸‹ä¸€ä¸ªå®ä¾‹
- ğŸ¯ **æ™ºèƒ½ DDL**: å®ä¾‹çš„ DDL è‡ªåŠ¨åŒæ­¥ä¸»äº‹ä»¶æ—¶é—´
- ğŸš« **EXDATE ç®¡ç†**: åˆ é™¤åæ·»åŠ ä¾‹å¤–ï¼Œé˜²æ­¢è‡ªåŠ¨é‡æ–°ç”Ÿæˆ

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success",
    "deleted_count": 5,  // åˆ é™¤æ“ä½œæ—¶è¿”å›
    "updated_count": 10  // ç¼–è¾‘æ“ä½œæ—¶è¿”å›
}
```

---

### åŠŸèƒ½å¯¹æ¯”è¡¨

| åŠŸèƒ½ | update_events | bulk-edit | æ¨èä½¿ç”¨ |
|------|---------------|-----------|----------|
| æ‹–æ‹½ç§»åŠ¨å•ä¸ªæ—¥ç¨‹ | âœ… å¿«é€Ÿ | âœ… æ”¯æŒ | **update_events** |
| ä¿®æ”¹å•ä¸ªæ—¥ç¨‹å­—æ®µ | âœ… ç®€å• | âœ… æ”¯æŒ | **update_events** |
| åˆ é™¤å•ä¸ªæ—¥ç¨‹ | âŒ | âœ… | **bulk-edit** |
| åˆ é™¤æ•´ä¸ªç³»åˆ— | âŒ | âœ… | **bulk-edit** |
| æ‰¹é‡ç¼–è¾‘é‡å¤æ—¥ç¨‹ | éƒ¨åˆ†æ”¯æŒ | âœ… å®Œæ•´ | **bulk-edit** |
| ä¿®æ”¹ RRule è§„åˆ™ | âŒ | âœ… | **bulk-edit** |
| å•æ¬¡è½¬é‡å¤ | âœ… | âœ… | **update_events** |

---

### 3. `/get_calendar/events/` - è·å–æ‰€æœ‰æ—¥ç¨‹

**è§†å›¾å‡½æ•°**: `views.get_events` â†’ `views_events.get_events_impl`

**è¯·æ±‚æ–¹å¼**: GET

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- è·å–å½“å‰ç”¨æˆ·çš„æ‰€æœ‰æ—¥ç¨‹äº‹ä»¶
- åŒæ—¶è·å–æ‰€æœ‰æ—¥ç¨‹ç»„ä¿¡æ¯
- è‡ªåŠ¨å¤„ç†é‡å¤æ—¥ç¨‹çš„å®ä¾‹ç”Ÿæˆ
- æ–°ç”¨æˆ·è‡ªåŠ¨åˆ›å»ºæ¬¢è¿æ—¥ç¨‹

**è¿”å›æ•°æ®**:
```json
{
    "events": [
        {
            "id": "äº‹ä»¶ID",
            "title": "æ ‡é¢˜",
            "start": "å¼€å§‹æ—¶é—´",
            "end": "ç»“æŸæ—¶é—´",
            "description": "æè¿°",
            "importance": "é‡è¦æ€§",
            "urgency": "ç´§æ€¥æ€§",
            "groupID": "æ—¥ç¨‹ç»„ID",
            "ddl": "æˆªæ­¢æ—¶é—´",
            "rrule": "é‡å¤è§„åˆ™",
            "series_id": "ç³»åˆ—ID",
            "is_recurring": true/false,
            "is_main_event": true/false
        }
    ],
    "events_groups": [
        {
            "id": "ç»„ID",
            "name": "ç»„å",
            "description": "æè¿°",
            "color": "é¢œè‰²"
        }
    ]
}
```

**ç‰¹ç‚¹**:
- ğŸ”„ è‡ªåŠ¨ç”Ÿæˆé‡å¤æ—¥ç¨‹å®ä¾‹
- ğŸ“Š ä¸€æ¬¡æ€§è¿”å›æ—¥ç¨‹å’Œæ—¥ç¨‹ç»„
- ğŸ æ–°ç”¨æˆ·æ¬¢è¿æ—¥ç¨‹

---

### 4. `/events/create_event/` - åˆ›å»ºæ–°æ—¥ç¨‹

**è§†å›¾å‡½æ•°**: `views.create_event` â†’ `views_events.create_event_impl`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- åˆ›å»ºå•æ¬¡æ—¥ç¨‹
- åˆ›å»ºé‡å¤æ—¥ç¨‹ï¼ˆå¸¦ RRuleï¼‰
- è‡ªåŠ¨ç”Ÿæˆé‡å¤æ—¥ç¨‹çš„å®ä¾‹
- æ”¯æŒè‡ªåŠ¨ DDL è®¾ç½®

**è¯·æ±‚å‚æ•°**:
```json
{
    "title": "æ ‡é¢˜ (å¿…å¡«)",
    "start": "å¼€å§‹æ—¶é—´ (å¿…å¡«, ISOæ ¼å¼)",
    "end": "ç»“æŸæ—¶é—´ (å¿…å¡«, ISOæ ¼å¼)",
    "description": "æè¿°",
    "importance": "important/not-important",
    "urgency": "urgent/not-urgent",
    "groupID": "æ—¥ç¨‹ç»„ID",
    "ddl": "æˆªæ­¢æ—¶é—´ (å¯é€‰)",
    "rrule": "é‡å¤è§„åˆ™ (å¯é€‰, å¦‚: FREQ=DAILY;INTERVAL=1)"
}
```

**é‡å¤è§„åˆ™å¤„ç†**:
- **æ—  COUNT/UNTIL**: è‡ªåŠ¨ç”Ÿæˆé€‚é‡å®ä¾‹
  - æœˆåº¦é‡å¤: 36 ä¸ªå®ä¾‹ï¼ˆ3å¹´ï¼‰
  - å‘¨åº¦é‡å¤: 26 ä¸ªå®ä¾‹ï¼ˆåŠå¹´ï¼‰
  - æ—¥åº¦é‡å¤: 20 ä¸ªå®ä¾‹ï¼ˆ90å¤©ï¼‰
- **æœ‰ COUNT**: ç”ŸæˆæŒ‡å®šæ•°é‡çš„å®ä¾‹
- **æœ‰ UNTIL**: ç”Ÿæˆåˆ°æˆªæ­¢æ—¶é—´çš„æ‰€æœ‰å®ä¾‹

**å¤æ‚ RRule å¤„ç†**:
- è‡ªåŠ¨æŸ¥æ‰¾ä¸‹ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ—¶é—´ç‚¹ï¼ˆBYDAY, BYMONTHDAY ç­‰ï¼‰
- ä¿ç•™ç”¨æˆ·æŒ‡å®šçš„æ—¶åˆ†ç§’

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success",
    "event": {
        "id": "æ–°åˆ›å»ºçš„äº‹ä»¶ID",
        "series_id": "ç³»åˆ—ID (é‡å¤äº‹ä»¶)",
        ...
    }
}
```

---

### 5. `/get_calendar/create_events_group/` - åˆ›å»ºæ—¥ç¨‹ç»„

**è§†å›¾å‡½æ•°**: `views.create_events_group`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- åˆ›å»ºæ–°çš„æ—¥ç¨‹åˆ†ç»„
- ç”¨äºç»„ç»‡å’Œåˆ†ç±»æ—¥ç¨‹

**è¯·æ±‚å‚æ•°**:
```json
{
    "name": "ç»„å (å¿…å¡«)",
    "description": "æè¿°",
    "color": "é¢œè‰²ä»£ç  (å¦‚: #3498db)"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success"
}
```

---

### 6. `/get_calendar/update_events_group/` - æ›´æ–°æ—¥ç¨‹ç»„

**è§†å›¾å‡½æ•°**: `views.update_event_group`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- ä¿®æ”¹å·²å­˜åœ¨çš„æ—¥ç¨‹ç»„ä¿¡æ¯

**è¯·æ±‚å‚æ•°**:
```json
{
    "groupID": "ç»„ID (å¿…å¡«)",
    "title": "æ–°ç»„å",
    "description": "æ–°æè¿°",
    "color": "æ–°é¢œè‰²"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success"
}
```

---

### 7. `/get_calendar/delete_event_groups/` - åˆ é™¤æ—¥ç¨‹ç»„

**è§†å›¾å‡½æ•°**: `views.delete_event_groups`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- æ‰¹é‡åˆ é™¤æ—¥ç¨‹ç»„
- å¯é€‰æ‹©æ˜¯å¦åŒæ—¶åˆ é™¤ç»„å†…æ—¥ç¨‹

**è¯·æ±‚å‚æ•°**:
```json
{
    "groupIds": ["ç»„ID1", "ç»„ID2", ...],
    "deleteEvents": true/false  // æ˜¯å¦åˆ é™¤ç»„å†…çš„æ‰€æœ‰æ—¥ç¨‹
}
```

**ç‰¹ç‚¹**:
- ğŸ“¦ æ”¯æŒæ‰¹é‡åˆ é™¤
- âš ï¸ å¯æ§åˆ¶æ˜¯å¦çº§è”åˆ é™¤æ—¥ç¨‹
- ğŸ›¡ï¸ å®‰å…¨æ€§ï¼šéœ€è¦æ˜ç¡®æŒ‡å®šæ˜¯å¦åˆ é™¤æ—¥ç¨‹

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success"
}
```

---

### 8. `/get_calendar/import_events/` - å¯¼å…¥æ—¥ç¨‹ï¼ˆæ•™åŠ¡ç³»ç»Ÿï¼‰

**è§†å›¾å‡½æ•°**: `views.import_events`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- ä»æ°‘æ—å¤§å­¦æ•™åŠ¡ç³»ç»Ÿå¯¼å…¥è¯¾ç¨‹è¡¨
- è‡ªåŠ¨è½¬æ¢ä¸ºæ—¥ç¨‹æ ¼å¼
- å¯¼å…¥åˆ°æŒ‡å®šæ—¥ç¨‹ç»„

**è¯·æ±‚å‚æ•°**:
```json
{
    "cookie": "æ•™åŠ¡ç³»ç»Ÿ Cookie (å¿…å¡«)",
    "groupId": "ç›®æ ‡æ—¥ç¨‹ç»„ID (å¿…å¡«)"
}
```

**å¤„ç†æµç¨‹**:
1. ä½¿ç”¨ Cookie çˆ¬å–æ•™åŠ¡ç³»ç»Ÿæ•°æ®
2. è§£æè¯¾ç¨‹ä¿¡æ¯ä¸ºæ—¥ç¨‹æ ¼å¼
3. è®¾ç½®æ‰€æœ‰è¯¾ç¨‹çš„ groupID ä¸ºç›®æ ‡ç»„
4. åˆå¹¶åˆ°ç”¨æˆ·çš„æ—¥ç¨‹åˆ—è¡¨

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success"
}
```

**é”™è¯¯å¤„ç†**:
- Cookie æ— æ•ˆæˆ–è¿‡æœŸ
- æ•™åŠ¡ç³»ç»Ÿæ— æ³•è®¿é—®
- æ•°æ®è§£æå¤±è´¥

---

### 9. `/get_calendar/outport_calendar/` - å¯¼å‡ºæ—¥å†é¡µé¢

**è§†å›¾å‡½æ•°**: `views.outport_calendar`

**è¯·æ±‚æ–¹å¼**: GET

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- æ˜¾ç¤ºæ—¥å†å¯¼å‡ºé…ç½®é¡µé¢
- ç”¨æˆ·å¯é€‰æ‹©å¯¼å‡ºæ¨¡å¼å’Œé€‰é¡¹

**æ¨¡æ¿**: `outport_calendar.html`

---

### 10. `/get_calendar/get_outport_calendar/` - å¯¼å‡º iCal æ–‡ä»¶

**è§†å›¾å‡½æ•°**: `views.get_outport_calendar`

**è¯·æ±‚æ–¹å¼**: GET

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- ç”Ÿæˆ iCalendar (.ics) æ ¼å¼æ–‡ä»¶
- æ”¯æŒä¸¤ç§å¯¼å‡ºæ¨¡å¼
- è·Ÿè¸ªå·²å¯¼å‡ºçš„æ—¥ç¨‹ï¼Œé¿å…é‡å¤

**è¯·æ±‚å‚æ•°**:
```
?mode=new|all        # å¯¼å‡ºæ¨¡å¼
&user_choice=1|2     # å¯¹å·²ä¿®æ”¹æ—¥ç¨‹çš„å¤„ç†æ–¹å¼ï¼ˆmode=newæ—¶ï¼‰
```

**å¯¼å‡ºæ¨¡å¼**:

**æ¨¡å¼ä¸€: `mode=new`** (å¢é‡å¯¼å‡º)
- åªå¯¼å‡ºæ–°å¢å’Œä¿®æ”¹çš„æ—¥ç¨‹
- è·Ÿè¸ªä¸Šæ¬¡å¯¼å‡ºæ—¶é—´
- æ£€æµ‹å·²ä¿®æ”¹çš„æ—¥ç¨‹ï¼Œè®©ç”¨æˆ·é€‰æ‹©ï¼š
  - `user_choice=1`: åŒ…å«ä¿®æ”¹çš„æ—¥ç¨‹
  - `user_choice=2`: å¿½ç•¥ä¿®æ”¹çš„æ—¥ç¨‹

**æ¨¡å¼äºŒ: `mode=all`** (å…¨é‡å¯¼å‡º)
- å¯¼å‡ºæ‰€æœ‰æ—¥ç¨‹
- æ›´æ–°å¯¼å‡ºè®°å½•

**è¿”å›æ ¼å¼**:
```
Content-Type: text/calendar
Content-Disposition: attachment; filename=calendar.ics
```

**ç‰¹ç‚¹**:
- ğŸ“… æ ‡å‡† iCal æ ¼å¼ï¼Œå…¼å®¹æ‰€æœ‰æ—¥å†åº”ç”¨
- ğŸ”„ æ™ºèƒ½å¢é‡å¯¼å‡º
- ğŸ“Š è·Ÿè¸ªå¯¼å‡ºå†å²

---

### 11. `/get_calendar/check_modified_events/` - æ£€æŸ¥ä¿®æ”¹çš„æ—¥ç¨‹

**è§†å›¾å‡½æ•°**: `views.check_modified_events`

**è¯·æ±‚æ–¹å¼**: GET

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- æ£€æŸ¥è‡ªä¸Šæ¬¡å¯¼å‡ºåå“ªäº›æ—¥ç¨‹è¢«ä¿®æ”¹
- é…åˆ `get_outport_calendar` ä½¿ç”¨

**è¯·æ±‚å‚æ•°**:
```
?mode=new
```

**è¿”å›æ•°æ®**:
```json
{
    "modified_events": [
        {
            "title": "æ—¥ç¨‹æ ‡é¢˜",
            "description": "æ—¥ç¨‹æè¿°"
        }
    ]
}
```

**ç”¨é€”**:
- åœ¨å¢é‡å¯¼å‡ºå‰é¢„è§ˆä¿®æ”¹å†…å®¹
- å¸®åŠ©ç”¨æˆ·å†³å®šæ˜¯å¦åŒ…å«ä¿®æ”¹çš„æ—¥ç¨‹

---

### 12. `/get_calendar/delete_event/` - åˆ é™¤æ—¥ç¨‹ (å·²å¼ƒç”¨)

**è§†å›¾å‡½æ•°**: `views.delete_event` â†’ `views_events.delete_event_impl`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**çŠ¶æ€**: âš ï¸ **å‡ ä¹å·²å¼ƒç”¨**

**åŠŸèƒ½è¯´æ˜**:
- æ—§ç‰ˆåˆ é™¤æ—¥ç¨‹æ¥å£
- ç°å·²è¢« `/api/events/bulk-edit/` æ›¿ä»£

**æ¨è**: ä½¿ç”¨ `/api/events/bulk-edit/` çš„ delete æ“ä½œ

---

### 13. `/get_calendar/resources/` - è·å–èµ„æºåˆ—è¡¨

**è§†å›¾å‡½æ•°**: `views.get_resources`

**è¯·æ±‚æ–¹å¼**: GET

**åŠŸèƒ½è¯´æ˜**:
- è·å–æ—¥å†èµ„æºé…ç½®ï¼ˆå¦‚ä¼šè®®å®¤ã€è®¾å¤‡ï¼‰
- ç”¨äº FullCalendar çš„èµ„æºè§†å›¾åŠŸèƒ½

**è¿”å›æ•°æ®ç¤ºä¾‹**:
```json
[
    {
        "id": "a",
        "title": "Auditorium A",
        "occupancy": 40
    },
    {
        "id": "d",
        "title": "Auditorium D",
        "occupancy": 40,
        "children": [
            { "id": "d1", "title": "Room D1", "occupancy": 10 },
            { "id": "d2", "title": "Room D2", "occupancy": 10 }
        ]
    }
]
```

**ç‰¹ç‚¹**:
- ğŸ“ æ”¯æŒå±‚çº§ç»“æ„ï¼ˆçˆ¶å­èµ„æºï¼‰
- ğŸ¨ å¯ä¸ºèµ„æºè®¾ç½®é¢œè‰²
- ğŸ‘¥ è®°å½•å®¹é‡ä¿¡æ¯

**ç”¨é€”**:
- ä¼šè®®å®¤é¢„è®¢ç³»ç»Ÿ
- èµ„æºè°ƒåº¦å¯è§†åŒ–
- ï¼ˆå½“å‰ä¸ºç¤ºä¾‹æ•°æ®ï¼Œå¯æ‰©å±•ï¼‰

---

## ğŸ”” Reminders æé†’ç®¡ç†æ¨¡å—

### 1. `/api/reminders/` - è·å–æ‰€æœ‰æé†’

**è§†å›¾å‡½æ•°**: `views.get_reminders` â†’ `views_reminder.get_reminders`

**è¯·æ±‚æ–¹å¼**: GET

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- è·å–å½“å‰ç”¨æˆ·çš„æ‰€æœ‰æé†’
- **è‡ªåŠ¨ç”Ÿæˆç¼ºå¤±çš„é‡å¤æé†’å®ä¾‹**
- è¿”å›åŒ…æ‹¬å•æ¬¡å’Œé‡å¤æé†’

**è¯·æ±‚å‚æ•°**: æ— 

**è¿”å›æ•°æ®**:
```json
{
    "reminders": [
        {
            "id": "æé†’ID",
            "title": "æ ‡é¢˜",
            "content": "å†…å®¹",
            "trigger_time": "è§¦å‘æ—¶é—´ (%Y-%m-%dT%H:%M:%S)",
            "priority": "ä¼˜å…ˆçº§ (low/normal/high/critical)",
            "status": "çŠ¶æ€ (active/completed/dismissed/snoozed_15m/snoozed_1h/snoozed_1d)",
            "snooze_until": "å»¶ååˆ°çš„æ—¶é—´",
            "rrule": "é‡å¤è§„åˆ™",
            "series_id": "ç³»åˆ—ID (é‡å¤æé†’)",
            "is_recurring": true/false,
            "is_main_reminder": true/false,
            "is_detached": false,
            "created_at": "åˆ›å»ºæ—¶é—´",
            "last_modified": "æœ€åä¿®æ”¹æ—¶é—´"
        }
    ]
}
```

**ç‰¹ç‚¹**:
- ğŸ”„ è‡ªåŠ¨è°ƒç”¨ `auto_generate_missing_recurring_reminders()`
- ğŸ“Š ä¸€æ¬¡æ€§è¿”å›æ‰€æœ‰ç±»å‹çš„æé†’
- âœ… ç¡®ä¿é‡å¤æé†’å®ä¾‹å……è¶³

**çŠ¶æ€**: âœ… æ´»è·ƒä½¿ç”¨

---

### 2. `/api/reminders/create/` - åˆ›å»ºæ–°æé†’

**è§†å›¾å‡½æ•°**: `views.create_reminder` â†’ `views_reminder.create_reminder`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- åˆ›å»ºå•æ¬¡æé†’
- åˆ›å»ºé‡å¤æé†’ï¼ˆå¸¦ RRuleï¼‰
- è‡ªåŠ¨ç”Ÿæˆé‡å¤æé†’å®ä¾‹

**è¯·æ±‚å‚æ•°**:
```json
{
    "title": "æ ‡é¢˜ (å¿…å¡«)",
    "content": "å†…å®¹ (å¯é€‰, é»˜è®¤: '')",
    "trigger_time": "è§¦å‘æ—¶é—´ (å¿…å¡«, %Y-%m-%dT%H:%M:%S)",
    "priority": "ä¼˜å…ˆçº§ (å¯é€‰, é»˜è®¤: 'medium')",
    "rrule": "é‡å¤è§„åˆ™ (å¯é€‰, é»˜è®¤: '')"
}
```

**å‚æ•°è¯¦ç»†è¯´æ˜**:
- `title`: æé†’æ ‡é¢˜ï¼ˆå¿…å¡«ï¼‰
- `content`: æé†’è¯¦ç»†å†…å®¹ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²ï¼‰
- `trigger_time`: è§¦å‘æ—¶é—´ï¼ŒISO 8601 æ ¼å¼ï¼ˆå¿…å¡«ï¼‰
- `priority`: ä¼˜å…ˆçº§ï¼Œå¯é€‰å€¼ `low`/`medium`/`high`/`critical`ï¼ˆé»˜è®¤ `medium`ï¼‰
- `rrule`: é‡å¤è§„åˆ™å­—ç¬¦ä¸²ï¼ˆå¯é€‰ï¼Œç©ºè¡¨ç¤ºå•æ¬¡æé†’ï¼‰

**é‡å¤è§„åˆ™ç¤ºä¾‹**:
```
FREQ=DAILY;INTERVAL=1              // æ¯å¤©
FREQ=WEEKLY;BYDAY=MO,WE,FR         // æ¯å‘¨ä¸€ã€ä¸‰ã€äº”
FREQ=MONTHLY;BYMONTHDAY=15         // æ¯æœˆ15æ—¥
FREQ=MONTHLY;BYDAY=2MO             // æ¯æœˆç¬¬2ä¸ªæ˜ŸæœŸä¸€
```

**å“åº”ç¤ºä¾‹**:

**å•æ¬¡æé†’**:
```json
{
    "status": "success",
    "message": "æé†’å·²åˆ›å»º"
}
```

**é‡å¤æé†’**:
```json
{
    "status": "success",
    "message": "é‡å¤æé†’å·²åˆ›å»ºï¼Œç³»åˆ—ID: abc-123-def-456"
}
```

**é”™è¯¯å“åº”**:
```json
{
    "status": "error",
    "message": "æ ‡é¢˜å’Œè§¦å‘æ—¶é—´æ˜¯å¿…å¡«é¡¹"
}
```

**ç‰¹ç‚¹**:
- ğŸ”„ é‡å¤æé†’è‡ªåŠ¨è°ƒç”¨ `reminder_mgr.create_recurring_reminder()`
- ğŸ“Š è‡ªåŠ¨å¤„ç†æ•°æ®å¹¶ç”Ÿæˆå®ä¾‹
- âœ… æ•°æ®ç±»å‹éªŒè¯

**çŠ¶æ€**: âœ… æ´»è·ƒä½¿ç”¨

---

### 3. `/api/reminders/update/` - æ›´æ–°æé†’

**è§†å›¾å‡½æ•°**: `views.update_reminder` â†’ `views_reminder.update_reminder`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- æ›´æ–°å•æ¬¡æé†’çš„ä¿¡æ¯
- **æ”¯æŒæ™®é€šæé†’è½¬é‡å¤æé†’**ï¼ˆæ·»åŠ  RRuleï¼‰
- **ä¸æ”¯æŒ**å¤æ‚çš„é‡å¤æé†’ä¿®æ”¹ï¼ˆä½¿ç”¨ bulk-editï¼‰

**è¯·æ±‚å‚æ•°**:
```json
{
    "id": "æé†’ID (å¿…å¡«)",
    "title": "æ–°æ ‡é¢˜ (å¯é€‰)",
    "content": "æ–°å†…å®¹ (å¯é€‰)",
    "trigger_time": "æ–°è§¦å‘æ—¶é—´ (å¯é€‰)",
    "priority": "æ–°ä¼˜å…ˆçº§ (å¯é€‰)",
    "status": "æ–°çŠ¶æ€ (å¯é€‰)",
    "rrule": "é‡å¤è§„åˆ™ (å¯é€‰, ç”¨äºè½¬æ™®é€šæé†’ä¸ºé‡å¤æé†’)",
    "rrule_change_scope": "all (ä»…è½¬é‡å¤æé†’æ—¶å¿…éœ€)"
}
```

**å‚æ•°è¯¦ç»†è¯´æ˜**:
- `id`: è¦æ›´æ–°çš„æé†’IDï¼ˆå¿…å¡«ï¼‰
- `title`: æ–°æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰
- `content`: æ–°å†…å®¹ï¼ˆå¯é€‰ï¼‰
- `trigger_time`: æ–°è§¦å‘æ—¶é—´ï¼ŒISOæ ¼å¼ï¼ˆå¯é€‰ï¼‰
- `priority`: æ–°ä¼˜å…ˆçº§ï¼ˆå¯é€‰ï¼‰
- `status`: æ–°çŠ¶æ€ï¼ˆå¯é€‰ï¼Œæ¨èä½¿ç”¨ `/update-status/`ï¼‰
- `rrule`: é‡å¤è§„åˆ™ï¼ˆå¯é€‰ï¼Œä»…ç”¨äºè½¬é‡å¤æé†’ï¼‰
- `rrule_change_scope`: å¿…é¡»ä¸º `all`ï¼ˆä»…å½“æ·»åŠ  rrule æ—¶éœ€è¦ï¼‰

**ä½¿ç”¨åœºæ™¯**:
- âœ… ä¿®æ”¹å•æ¬¡æé†’çš„åŸºæœ¬ä¿¡æ¯
- âœ… å°†å•æ¬¡æé†’è½¬ä¸ºé‡å¤æé†’ï¼ˆæ·»åŠ  `rrule` å’Œ `rrule_change_scope: "all"`ï¼‰
- âŒ ä¿®æ”¹é‡å¤æé†’çš„è§„åˆ™ï¼ˆè¯·ä½¿ç”¨ `/api/reminders/bulk-edit/`ï¼‰

**è½¬é‡å¤æé†’ç¤ºä¾‹**:
```json
{
    "id": "reminder-123",
    "title": "æ›´æ–°åçš„æ ‡é¢˜",
    "rrule": "FREQ=DAILY;INTERVAL=1",
    "rrule_change_scope": "all"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success"
}
```

**é”™è¯¯å“åº”**:
```json
{
    "status": "error",
    "message": "æ­¤ç±»é‡å¤æé†’ç¼–è¾‘è¯·ä½¿ç”¨æ‰¹é‡ç¼–è¾‘åŠŸèƒ½"
}
```

**ç‰¹ç‚¹**:
- ğŸ”„ æ”¯æŒå•æ¬¡è½¬é‡å¤
- ğŸ“ ç®€å•å­—æ®µæ›´æ–°
- âš ï¸ ä¸å¤„ç†å¤æ‚é‡å¤è§„åˆ™ä¿®æ”¹

**çŠ¶æ€**: âœ… æ´»è·ƒä½¿ç”¨

---

### 4. `/api/reminders/update-status/` - æ›´æ–°æé†’çŠ¶æ€

**è§†å›¾å‡½æ•°**: `views.update_reminder_status` â†’ `views_reminder.update_reminder_status`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- æ›´æ–°æé†’çš„çŠ¶æ€ï¼ˆæ¿€æ´»/å®Œæˆ/å¿½ç•¥/å»¶åï¼‰
- å¿«é€ŸçŠ¶æ€åˆ‡æ¢ï¼Œä¸ä¿®æ”¹å…¶ä»–ä¿¡æ¯
- æ”¯æŒå»¶ååŠŸèƒ½ï¼ˆè®¾ç½® snooze_untilï¼‰

**è¯·æ±‚å‚æ•°**:
```json
{
    "id": "æé†’ID (å¿…å¡«)",
    "status": "çŠ¶æ€ (å¿…å¡«)",
    "snooze_until": "å»¶ååˆ°çš„æ—¶é—´ (å¯é€‰)"
}
```

**å‚æ•°è¯¦ç»†è¯´æ˜**:
- `id`: æé†’IDï¼ˆå¿…å¡«ï¼‰
- `status`: æ–°çŠ¶æ€ï¼ˆå¿…å¡«ï¼‰ï¼Œå¯é€‰å€¼ï¼š
  - `active`: æ¿€æ´»çŠ¶æ€
  - `completed`: å·²å®Œæˆ
  - `dismissed`: å·²å¿½ç•¥/å…³é—­
  - `snoozed_15m`: å»¶å15åˆ†é’Ÿ
  - `snoozed_1h`: å»¶å1å°æ—¶
  - `snoozed_1d`: å»¶å1å¤©
  - æˆ–è‡ªå®šä¹‰çš„ `snoozed_custom` çŠ¶æ€
- `snooze_until`: å»¶ååˆ°çš„å…·ä½“æ—¶é—´ï¼ŒISOæ ¼å¼ï¼ˆå¯é€‰ï¼‰ï¼Œåœ¨ snoozed_custom ä¸‹å¡«å†™

**çŠ¶æ€è¯´æ˜**:
- `active`: æ¿€æ´»çŠ¶æ€ï¼Œæ¸…ç©º `snooze_until`
- `completed`: å·²å®Œæˆ
- `dismissed`: å·²å¿½ç•¥/å…³é—­
- `snoozed_*`: å·²å»¶åï¼ˆå¸¦æ—¶é•¿æ ‡è¯†ï¼‰

**ä½¿ç”¨ç¤ºä¾‹**:

**å®Œæˆæé†’**:
```json
{
    "id": "reminder-123",
    "status": "completed"
}
```

**å»¶åæé†’**:
```json
{
    "id": "reminder-123",
    "status": "snoozed_1h",
    "snooze_until": "2025-01-20T15:00:00"
}
```

**é‡æ–°æ¿€æ´»**:
```json
{
    "id": "reminder-123",
    "status": "active"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success"
}
```

**é”™è¯¯å“åº”**:
```json
{
    "status": "error",
    "message": "æé†’IDå’ŒçŠ¶æ€æ˜¯å¿…å¡«é¡¹"
}
```

**ç‰¹ç‚¹**:
- âš¡ å¿«é€ŸçŠ¶æ€æ›´æ–°
- ğŸ• æ”¯æŒå»¶ååŠŸèƒ½
- âœ… è‡ªåŠ¨æ¸…ç†å»¶åæ—¶é—´ï¼ˆæ¿€æ´»æ—¶ï¼‰

**çŠ¶æ€**: âœ… æ´»è·ƒä½¿ç”¨

---

### 5. `/api/reminders/delete/` - åˆ é™¤æé†’

**è§†å›¾å‡½æ•°**: `views.delete_reminder` â†’ `views_reminder.delete_reminder`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- åˆ é™¤å•ä¸ªæé†’ï¼ˆç®€å•åˆ é™¤ï¼‰
- **ä»…åˆ é™¤æŒ‡å®šIDçš„æé†’**
- å¯¹äºé‡å¤æé†’çš„æ‰¹é‡åˆ é™¤ï¼Œå»ºè®®ä½¿ç”¨ `/api/reminders/bulk-edit/`

**è¯·æ±‚å‚æ•°**:
```json
{
    "id": "æé†’ID (å¿…å¡«)"
}
```

**å‚æ•°è¯¦ç»†è¯´æ˜**:
- `id`: è¦åˆ é™¤çš„æé†’IDï¼ˆå¿…å¡«ï¼‰

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success"
}
```

**é”™è¯¯å“åº”**:
```json
{
    "status": "error",
    "message": "æœªæ‰¾åˆ°æŒ‡å®šçš„æé†’"
}
```

**ä½¿ç”¨åœºæ™¯**:
- âœ… åˆ é™¤å•æ¬¡æé†’
- âœ… åˆ é™¤é‡å¤æé†’çš„å•ä¸ªå®ä¾‹
- âš ï¸ åˆ é™¤æ•´ä¸ªé‡å¤ç³»åˆ—ï¼ˆæ¨èä½¿ç”¨ `/api/reminders/bulk-edit/` çš„ `operation: "delete", edit_scope: "all"`ï¼‰

**ç‰¹ç‚¹**:
- âš¡ ç®€å•å¿«é€Ÿ
- ğŸ¯ ç²¾ç¡®åˆ é™¤
- âš ï¸ ä¸å¤„ç†ç³»åˆ—é€»è¾‘

**çŠ¶æ€**: âœ… æ´»è·ƒä½¿ç”¨

---

### 6. `/api/reminders/bulk-edit/` - æ‰¹é‡ç¼–è¾‘é‡å¤æé†’
**è­¦å‘Šï¼š** bulk-edit ç¼–è¾‘å¤æ‚åº¦å¾ˆé«˜ï¼Œæƒ…å†µåˆ†æ”¯ç¹å¤šï¼Œä½¿ç”¨å‰è¯·åŠ¡å¿…ä»”ç»†é˜…è¯»æ–‡æ¡£ï¼Œè‹¥ä¸æ¸…æ¥šæ“ä½œçš„åæœï¼Œè¯·å‹¿å¯¹é‡è¦å†…å®¹è¿›è¡Œæ“ä½œã€‚

**è§†å›¾å‡½æ•°**: `views.bulk_edit_reminders` â†’ `views_reminder.bulk_edit_reminders`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- æ‰¹é‡ç¼–è¾‘é‡å¤æé†’
- æ‰¹é‡åˆ é™¤é‡å¤æé†’
- ä¿®æ”¹é‡å¤è§„åˆ™ï¼ˆåˆ›å»ºæ–°ç³»åˆ—ï¼‰
- å–æ¶ˆé‡å¤ï¼ˆç»“æŸé‡å¤ç³»åˆ—ï¼‰

**è¯·æ±‚å‚æ•°**:
```json
{
    "operation": "edit/delete (å¿…å¡«)",
    "reminder_id": "æé†’ID (å¿…å¡«)",
    "edit_scope": "single(æˆ–this_onlyï¼Œæ•ˆæœç›¸åŒï¼‰/all/future/from_time (å¿…å¡«)",
    "series_id": "ç³»åˆ—ID (é‡å¤æé†’å¿…éœ€)",
    "from_time": "èµ·å§‹æ—¶é—´ (scope=from_timeæ—¶å¿…éœ€)",
    
    // ç¼–è¾‘æ“ä½œæ—¶çš„æ›´æ–°æ•°æ®
    "title": "æ–°æ ‡é¢˜ (å¯é€‰)",
    "content": "æ–°å†…å®¹ (å¯é€‰)",
    "priority": "æ–°ä¼˜å…ˆçº§ (å¯é€‰)ï¼Œ low|normal|high|urgent",
    "trigger_time": "æ–°è§¦å‘æ—¶é—´ (å¯é€‰)",
    "rrule": "æ–°é‡å¤è§„åˆ™ (å¯é€‰)"
}
```

**å‚æ•°è¯¦ç»†è¯´æ˜**:
- `operation`: æ“ä½œç±»å‹ï¼ˆå¿…å¡«ï¼‰
  - `edit`: ç¼–è¾‘æé†’
  - `delete`: åˆ é™¤æé†’
- `reminder_id`: ç›®æ ‡æé†’IDï¼ˆå¿…å¡«ï¼‰
- `edit_scope`: ç¼–è¾‘èŒƒå›´ï¼ˆå¿…å¡«ï¼‰ï¼Œå‰ç«¯å¯èƒ½å‘é€çš„å€¼ï¼š
  - `single(æˆ–this_onlyï¼Œæ•ˆæœç›¸åŒï¼‰`: ä»…æ­¤æé†’
  - `all`: æ•´ä¸ªç³»åˆ—
  - `from_this`: æ­¤æé†’åŠä¹‹åï¼ˆè‡ªåŠ¨æ˜ å°„ä¸º `future`ï¼‰
  - `from_time`: ä»æŒ‡å®šæ—¶é—´å¼€å§‹
- `series_id`: ç³»åˆ—IDï¼ˆé‡å¤æé†’æ—¶å¿…éœ€ï¼‰
- `from_time`: èµ·å§‹æ—¶é—´ï¼ˆ`edit_scope=from_time` æ—¶å¿…éœ€ï¼‰

**æ›´æ–°å­—æ®µ**ï¼ˆç¼–è¾‘æ“ä½œæ—¶å¯é€‰ï¼‰:
- `title`: æ–°æ ‡é¢˜
- `content`: æ–°å†…å®¹ï¼ˆ**æ³¨æ„**: å­—æ®µåæ˜¯ `content`ï¼Œä¸æ˜¯ `description`ï¼‰
- `priority`: æ–°ä¼˜å…ˆçº§
- `trigger_time`: æ–°è§¦å‘æ—¶é—´
- `rrule`: æ–°é‡å¤è§„åˆ™

**ç¼–è¾‘èŒƒå›´è¯´æ˜**:

| å‰ç«¯å‘é€               | åç«¯å¤„ç† | è¯´æ˜ |
|--------------------|---------|------|
| `this_only/single` | `single` | ä»…æ­¤æé†’ |
| `all`              | `all` | æ•´ä¸ªç³»åˆ— |
| `from_this/future`       | `future` | æ­¤æé†’åŠä¹‹å |
| `from_time`        | `from_time` | ä»æŒ‡å®šæ—¶é—´å¼€å§‹ |

**åˆ é™¤æ“ä½œ**:
- `single`: åˆ é™¤å•ä¸ªå®ä¾‹ï¼ˆä½¿ç”¨ EXDATE æœºåˆ¶ï¼‰
- `all`: åˆ é™¤æ•´ä¸ªç³»åˆ—ï¼ˆå®Œå…¨åˆ é™¤ï¼‰
- `future`/`from_time`: åˆ é™¤æ­¤åŠä¹‹åï¼ˆä½¿ç”¨ UNTIL æˆªæ–­ï¼‰

**ç¼–è¾‘æ“ä½œ**:
- `single`: ç¼–è¾‘å•ä¸ªå®ä¾‹ï¼ˆè‹¥é…åˆ rrule=""ï¼Œ é‚£ä¹ˆä¼šä»ç³»åˆ—ä¸­ç‹¬ç«‹ã€‚å¦åˆ™ç›´æ¥æ›´æ–°å­—æ®µå¹¶ä¿ç•™å…¶ä¸ºç³»åˆ—ä¸­çš„ä¸€å‘˜ï¼‰
- `all`: ç¼–è¾‘æ•´ä¸ªç³»åˆ—ï¼ˆæ›´æ–°æ‰€æœ‰å®ä¾‹ï¼Œä¸ä¿®æ”¹ trigger_timeï¼‰
- `future`/`from_time`: ä»æŸæ—¶é—´ç‚¹å¼€å§‹ç¼–è¾‘
  - **RRule ä¸å˜**: ä»…æ›´æ–°å­—æ®µï¼Œä¸æ”¹å˜é‡å¤è§„åˆ™ï¼Œä¸äº§ç”Ÿæ–°åºåˆ—
  - **RRule å˜åŒ–**: åˆ›å»ºæ–°ç³»åˆ—ï¼Œæˆªæ–­æ—§ç³»åˆ—

**RRule ä¿®æ”¹æ£€æµ‹**:
- è‡ªåŠ¨æ£€æµ‹ RRule æ˜¯å¦çœŸæ­£å‘ç”Ÿå˜åŒ–
- RRule ä¸å˜ï¼šç®€å•æ›´æ–°å­—æ®µï¼ˆä¸å…è®¸ä¿®æ”¹ trigger_time çš„è§¦å‘æ—¥æœŸï¼Œåªå…è®¸æ›´æ”¹è§¦å‘æ—¶é—´ç‚¹ï¼‰
- RRule å˜åŒ–ï¼šè°ƒç”¨ `modify_recurring_rule()` åˆ›å»ºæ–°ç³»åˆ—ï¼Œä»…å…è®¸ from_time å’Œ from_this æ¨¡å¼ä¸‹è¿›è¡Œè¿™ä¸ªæ“ä½œ
- RRule ä¸ºç©ºï¼Œå¦‚æœæ˜¯ single æ¨¡å¼ï¼Œé‚£ä¹ˆä¼šæŠŠæ—¥ç¨‹ä»ç³»åˆ—ä¸­ç‹¬ç«‹å‡ºå»ã€‚å…¶ä»–å‡ ä¸ªæ¨¡å¼ä¸å…è®¸ RRule ä¸ºç©º

**ç‰¹æ®ŠåŠŸèƒ½**:
- ğŸ”„ **æ™ºèƒ½ RRule æ£€æµ‹**: è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦éœ€è¦åˆ›å»ºæ–°ç³»åˆ—
- ğŸ“ **å­—æ®µè¿‡æ»¤**: è‡ªåŠ¨è¿‡æ»¤ `None` å€¼
- â±ï¸ **è¶…æ—¶ä¿æŠ¤**: 35 ç§’è¶…æ—¶ï¼Œ25 ç§’è­¦å‘Šè¿”å›
- ğŸ¯ **æ—¶é—´ä¿æŠ¤**: é RRule ä¿®æ”¹æ—¶ä¿æŒåŸæœ‰ trigger_time

**ä½¿ç”¨ç¤ºä¾‹**:

**åˆ é™¤æ•´ä¸ªç³»åˆ—**:
```json
{
    "operation": "delete",
    "reminder_id": "reminder-123",
    "edit_scope": "all",
    "series_id": "series-456"
}
```

**ä¿®æ”¹æ•´ä¸ªç³»åˆ—çš„æ ‡é¢˜**:
```json
{
    "operation": "edit",
    "reminder_id": "reminder-123",
    "edit_scope": "all",
    "series_id": "series-456",
    "title": "æ–°æ ‡é¢˜"
}
```

**ä»æŸæ—¶é—´å¼€å§‹ä¿®æ”¹é‡å¤è§„åˆ™**:
```json
{
    "operation": "edit",
    "reminder_id": "reminder-123",
    "edit_scope": "from_time",
    "series_id": "series-456",
    "from_time": "2025-01-20T10:00:00",
    "rrule": "FREQ=WEEKLY;BYDAY=MO,WE"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success",
    "updated_count": 10
}
```

**é”™è¯¯å“åº”**:
```json
{
    "status": "error",
    "message": "æé†’IDæ˜¯å¿…å¡«é¡¹"
}
```

**ç‰¹ç‚¹**:
- ğŸ”„ æ”¯æŒ RRule ä¿®æ”¹ï¼ˆè‡ªåŠ¨åˆ›å»ºæ–°ç³»åˆ—ï¼‰
- ğŸš« æ”¯æŒå–æ¶ˆé‡å¤ï¼ˆRRule æ”¹ä¸ºç©ºï¼‰
- â±ï¸ è¶…æ—¶ä¿æŠ¤æœºåˆ¶
- ğŸ“Š è¿”å›æ“ä½œç»Ÿè®¡

**çŠ¶æ€**: âœ… æ´»è·ƒä½¿ç”¨

---

### 7. `/api/reminders/convert-to-single/` - é‡å¤è½¬å•æ¬¡

**è§†å›¾å‡½æ•°**: `views.convert_recurring_to_single` â†’ `views_reminder.convert_recurring_to_single_impl`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- å°†é‡å¤æé†’çš„æŸä¸ªå®ä¾‹è½¬æ¢ä¸ºå•æ¬¡æé†’
- ä¿ç•™å½“å‰å®ä¾‹ï¼Œåˆ é™¤æœªæ¥å®ä¾‹
- ä¸ºè¿‡å»å®ä¾‹æ·»åŠ  UNTIL é™åˆ¶

åœ¨æµè§ˆå™¨ç«¯ï¼Œbulk-edit è‹¥æ£€æµ‹åˆ°ç”¨æˆ·æŠŠåŸå…ˆæœ‰ RRule å‚æ•°çš„æ—¥ç¨‹çš„ RRule å»é™¤æ‰äº†ï¼Œå°±ä¼šç»™å‰ç«¯ä¸€ä¸ªæŠ¥é”™ï¼Œå‰ç«¯å†æ£€æŸ¥ï¼Œä¼šå‘ç°è¿™æ˜¯ä¸€ä¸ªå°†é‡å¤æ—¥ç¨‹æ”¹ä¸ºä½†æ­¤æ—¥ç¨‹çš„ç‰¹æ®Šæ“ä½œï¼Œå°±ä¼šè¿›ä¸€æ­¥åœ¨å‰ç«¯é“¾æ¥è¿™ä¸ªå‡½æ•°

**è¯·æ±‚å‚æ•°**:
```json
{
    "series_id": "ç³»åˆ—ID (å¿…å¡«)",
    "reminder_id": "ç›®æ ‡æé†’ID (å¿…å¡«)",
    "update_data": {
        "title": "æ–°æ ‡é¢˜ (å¯é€‰)",
        "content": "æ–°å†…å®¹ (å¯é€‰)",
        "priority": "æ–°ä¼˜å…ˆçº§ (å¯é€‰)",
        ...
    }
}
```

**å‚æ•°è¯¦ç»†è¯´æ˜**:
- `series_id`: é‡å¤ç³»åˆ—çš„IDï¼ˆå¿…å¡«ï¼‰
- `reminder_id`: è¦è½¬æ¢çš„æé†’å®ä¾‹IDï¼ˆå¿…å¡«ï¼‰
- `update_data`: æ›´æ–°æ•°æ®å¯¹è±¡ï¼ˆå¯é€‰ï¼‰ï¼Œå¯åŒ…å«ä»»æ„æé†’å­—æ®µ

**å¤„ç†é€»è¾‘**:
1. å°†ç›®æ ‡æé†’è½¬ä¸ºå•æ¬¡æé†’ï¼ˆæ¸…é™¤ `rrule` å’Œ `series_id`ï¼‰
2. åº”ç”¨ `update_data` ä¸­çš„å­—æ®µæ›´æ–°
3. åˆ é™¤æ‰€æœ‰æœªæ¥çš„é‡å¤å®ä¾‹ï¼ˆtrigger_time > ç›®æ ‡æ—¶é—´ï¼‰
4. ä¸ºè¿‡å»çš„å®ä¾‹æ·»åŠ  UNTIL é™åˆ¶ï¼ˆé¿å…é‡æ–°ç”Ÿæˆï¼‰

**ä½¿ç”¨ç¤ºä¾‹**:
```json
{
    "series_id": "series-456",
    "reminder_id": "reminder-123",
    "update_data": {
        "title": "ä¿®æ”¹åçš„å•æ¬¡æé†’",
        "priority": "high"
    }
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success",
    "message": "é‡å¤æé†’å·²æˆåŠŸè½¬æ¢ä¸ºå•æ¬¡æé†’",
    "deleted_count": 5,
    "updated_count": 3
}
```

**é”™è¯¯å“åº”**:
```json
{
    "status": "error",
    "message": "ç¼ºå°‘å¿…è¦å‚æ•°"
}
```

**ç‰¹ç‚¹**:
- ğŸ”„ æ™ºèƒ½å¤„ç†è¿‡å»å’Œæœªæ¥å®ä¾‹
- âœ‚ï¸ è‡ªåŠ¨æˆªæ–­ç³»åˆ—
- ğŸ“ æ”¯æŒåŒæ—¶æ›´æ–°å­—æ®µ

**çŠ¶æ€**: âœ… æ´»è·ƒä½¿ç”¨

---

### 8. `/api/reminders/pending/` - è·å–å¾…è§¦å‘æé†’ âš ï¸

**è§†å›¾å‡½æ•°**: `views.get_pending_reminders` â†’ `views_reminder.get_pending_reminders`

**è¯·æ±‚æ–¹å¼**: GET

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- è·å–å³å°†è§¦å‘æˆ–åº”è¯¥è§¦å‘çš„æé†’
- ç”¨äºå‰ç«¯é€šçŸ¥ç³»ç»Ÿè½®è¯¢

**è¯·æ±‚å‚æ•°**: æ— 

**è¿”å›æ•°æ®**:
```json
{
    "pending_reminders": [
        {
            "id": "æé†’ID",
            "title": "æ ‡é¢˜",
            "content": "å†…å®¹",
            "trigger_time": "è§¦å‘æ—¶é—´",
            "priority": "ä¼˜å…ˆçº§",
            "status": "active",
            ...
        }
    ]
}
```

**è§¦å‘æ¡ä»¶**:
- æé†’çŠ¶æ€ä¸º `active`
- è§¦å‘æ—¶é—´ <= å½“å‰æ—¶é—´ + 1åˆ†é’Ÿ

**ç‰¹ç‚¹**:
- â° 1åˆ†é’Ÿæå‰é‡
- ğŸ” ä»…è¿”å›æ¿€æ´»çŠ¶æ€çš„æé†’

**çŠ¶æ€**: âš ï¸ **å·²å¼ƒç”¨** - ä»£ç æ³¨é‡Šæ ‡è®°ä¸º "è²Œä¼¼æ²¡æœ‰ç”¨æ³•äº†"

---

### 9. `/api/reminders/maintain/` - ç»´æŠ¤æé†’å®ä¾‹ âš ï¸

**è§†å›¾å‡½æ•°**: `views.maintain_reminders` â†’ `views_reminder.maintain_reminders`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- å®šæœŸè°ƒç”¨ä»¥ç»´æŠ¤é‡å¤æé†’å®ä¾‹
- è‡ªåŠ¨ç”Ÿæˆç¼ºå¤±çš„æœªæ¥å®ä¾‹
- ç¡®ä¿æé†’å®ä¾‹å……è¶³

**è¯·æ±‚å‚æ•°**: æ— 

**è¿”å›æ•°æ®**:
```json
{
    "status": "success",
    "original_count": 50,
    "updated_count": 65,
    "added_instances": 15
}
```

**å¤„ç†é€»è¾‘**:
- è°ƒç”¨ `reminder_mgr.process_reminder_data()` å¤„ç†æ‰€æœ‰æé†’
- è‡ªåŠ¨ç”Ÿæˆç¼ºå¤±çš„é‡å¤å®ä¾‹
- è¿”å›æ“ä½œç»Ÿè®¡

**ç”¨é€”**:
- åå°å®šæ—¶ä»»åŠ¡
- æ‰‹åŠ¨åˆ·æ–°æé†’åˆ—è¡¨

**çŠ¶æ€**: âš ï¸ **å·²å¼ƒç”¨** - ä»£ç æ³¨é‡Šæ ‡è®°ä¸º "è²Œä¼¼æ²¡æœ‰ç”¨æ³•äº†"ï¼Œ`GET /api/reminders/` å·²è‡ªåŠ¨è°ƒç”¨ç»´æŠ¤é€»è¾‘

---

### 10. `/api/reminders/snooze/` - å»¶åæé†’ âš ï¸

**è§†å›¾å‡½æ•°**: `views.snooze_reminder` â†’ `views_reminder.snooze_reminder_impl`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- å»¶åæé†’åˆ°æ–°çš„è§¦å‘æ—¶é—´
- **å·²å¼ƒç”¨**: å»ºè®®ä½¿ç”¨ `/api/reminders/update-status/`

**è¯·æ±‚å‚æ•°**:
```json
{
    "id": "æé†’ID (å¿…å¡«)",
    "snooze_minutes": "å»¶ååˆ†é’Ÿæ•° (å¯é€‰, é»˜è®¤10)"
}
```

**çŠ¶æ€**: âš ï¸ **å·²å¼ƒç”¨** - ä»£ç æ³¨é‡Šæ ‡è®°ä¸º "è²Œä¼¼æ²¡æœ‰ç”¨æ³•äº†"

**æ›¿ä»£æ–¹æ¡ˆ**: 
```json
POST /api/reminders/update-status/
{
    "id": "reminder-123",
    "status": "snoozed_15m",
    "snooze_until": "2025-01-20T15:00:00"
}
```

---

### 11. `/api/reminders/dismiss/` - å¿½ç•¥æé†’ âš ï¸

**è§†å›¾å‡½æ•°**: `views.dismiss_reminder` â†’ `views_reminder.dismiss_reminder_impl`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- å¿½ç•¥/å…³é—­æé†’
- **å·²å¼ƒç”¨**: å»ºè®®ä½¿ç”¨ `/api/reminders/update-status/`

**è¯·æ±‚å‚æ•°**:
```json
{
    "id": "æé†’ID (å¿…å¡«)"
}
```

**çŠ¶æ€**: âš ï¸ **éƒ¨åˆ†ä½¿ç”¨** - ä»£ç æ³¨é‡Šæ ‡è®°ä¸º "ä»…åœ¨popupä¸­ä½¿ç”¨"

**æ›¿ä»£æ–¹æ¡ˆ**: 
```json
POST /api/reminders/update-status/
{
    "id": "reminder-123",
    "status": "dismissed"
}
```

---

### 12. `/api/reminders/complete/` - å®Œæˆæé†’ âš ï¸

**è§†å›¾å‡½æ•°**: `views.complete_reminder` â†’ `views_reminder.complete_reminder_impl`

**è¯·æ±‚æ–¹å¼**: POST

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- æ ‡è®°æé†’ä¸ºå·²å®Œæˆ
- **å·²å¼ƒç”¨**: å»ºè®®ä½¿ç”¨ `/api/reminders/update-status/`

**è¯·æ±‚å‚æ•°**:
```json
{
    "id": "æé†’ID (å¿…å¡«)"
}
```

**çŠ¶æ€**: âš ï¸ **éƒ¨åˆ†ä½¿ç”¨** - ä»£ç æ³¨é‡Šæ ‡è®°ä¸º "ä»…åœ¨popupä¸­ä½¿ç”¨"

**æ›¿ä»£æ–¹æ¡ˆ**: 
```json
POST /api/reminders/update-status/
{
    "id": "reminder-123",
    "status": "completed"
}
```

---

## ğŸ”” Reminders API ä½¿ç”¨æŒ‡å—

### å­—æ®µåç§°å¯¹ç…§è¡¨

**é‡è¦**: ä»¥ä¸‹æ˜¯æ­£ç¡®çš„å­—æ®µåç§°ï¼Œè¯·å‹¿ä½¿ç”¨é”™è¯¯çš„åç§°ï¼š

| åŠŸèƒ½ | âœ… æ­£ç¡®å­—æ®µå | âŒ é”™è¯¯å­—æ®µå |
|------|------------|-------------|
| è§¦å‘æ—¶é—´ | `trigger_time` | ~~reminder_time~~ |
| å†…å®¹/æè¿° | `content` | ~~description~~ |
| ä¼˜å…ˆçº§ | `priority` | ~~reminder_type~~ |

### å¸¸ç”¨æ“ä½œç¤ºä¾‹

**åˆ›å»ºå•æ¬¡æé†’**:
```javascript
POST /api/reminders/create/
{
    "title": "å¼€ä¼š",
    "content": "è®¨è®ºé¡¹ç›®è¿›åº¦",
    "trigger_time": "2025-01-20T14:00:00",
    "priority": "high"
}
```

**åˆ›å»ºé‡å¤æé†’ï¼ˆæ¯å¤©ï¼‰**:
```javascript
POST /api/reminders/create/
{
    "title": "å–æ°´",
    "trigger_time": "2025-01-20T09:00:00",
    "priority": "low",
    "rrule": "FREQ=DAILY;INTERVAL=1"
}
```

**æ›´æ–°æé†’çŠ¶æ€ä¸ºå®Œæˆ**:
```javascript
POST /api/reminders/update-status/
{
    "id": "reminder-123",
    "status": "completed"
}
```

**åˆ é™¤æ•´ä¸ªé‡å¤ç³»åˆ—**:
```javascript
POST /api/reminders/bulk-edit/
{
    "operation": "delete",
    "reminder_id": "reminder-123",
    "edit_scope": "all",
    "series_id": "series-456"
}
```

**ä¿®æ”¹é‡å¤è§„åˆ™ï¼ˆä»æŸæ—¶é—´å¼€å§‹ï¼‰**:
```javascript
POST /api/reminders/bulk-edit/
{
    "operation": "edit",
    "reminder_id": "reminder-123",
    "edit_scope": "from_this",
    "series_id": "series-456",
    "rrule": "FREQ=WEEKLY;BYDAY=MO,WE,FR",
    "content": "æ›´æ–°åçš„å†…å®¹"
}
```

### API æ¨èä½¿ç”¨

| åŠŸèƒ½ | æ¨è API | å¤‡æ³¨ |
|------|---------|------|
| è·å–æ‰€æœ‰æé†’ | `GET /api/reminders/` | âœ… æ´»è·ƒ |
| åˆ›å»ºæé†’ | `POST /api/reminders/create/` | âœ… æ´»è·ƒ |
| æ›´æ–°å•æ¬¡æé†’ | `POST /api/reminders/update/` | âœ… æ´»è·ƒ |
| æ›´æ–°çŠ¶æ€ | `POST /api/reminders/update-status/` | âœ… æ´»è·ƒ |
| åˆ é™¤æé†’ | `POST /api/reminders/delete/` | âœ… ç®€å•åˆ é™¤ |
| æ‰¹é‡æ“ä½œ | `POST /api/reminders/bulk-edit/` | âœ… æ´»è·ƒï¼ŒåŠŸèƒ½æœ€å¼º |
| é‡å¤è½¬å•æ¬¡ | `POST /api/reminders/convert-to-single/` | âœ… æ´»è·ƒ |
| å»¶åæé†’ | `POST /api/reminders/update-status/` | âš ï¸ ä½¿ç”¨ status å‚æ•° |
| å®Œæˆæé†’ | `POST /api/reminders/update-status/` | âš ï¸ ä½¿ç”¨ status å‚æ•° |
| å¿½ç•¥æé†’ | `POST /api/reminders/update-status/` | âš ï¸ ä½¿ç”¨ status å‚æ•° |

---

## âœ… Todos å¾…åŠç®¡ç†æ¨¡å—

### 1. `/api/todos/` - è·å–æ‰€æœ‰å¾…åŠ

**è§†å›¾å‡½æ•°**: `views.get_todos`

**è¯·æ±‚æ–¹å¼**: GET

**åŠŸèƒ½è¯´æ˜**:
- è·å–å½“å‰ç”¨æˆ·çš„æ‰€æœ‰å¾…åŠäº‹é¡¹

**è¿”å›æ•°æ®**:
```json
{
    "todos": [
        {
            "id": "å¾…åŠID",
            "title": "æ ‡é¢˜",
            "description": "æè¿°",
            "due_date": "æˆªæ­¢æ—¥æœŸ",
            "estimated_duration": "é¢„ä¼°æ—¶é•¿",
            "importance": "é‡è¦æ€§",
            "urgency": "ç´§æ€¥æ€§",
            "groupID": "å…³è”ç»„ID",
            "status": "pending/in-progress/completed/converted",
            "created_at": "åˆ›å»ºæ—¶é—´",
            "last_modified": "ä¿®æ”¹æ—¶é—´"
        }
    ]
}
```

---

### 2. `/api/todos/create/` - åˆ›å»ºå¾…åŠ

**è§†å›¾å‡½æ•°**: `views.create_todo`

**è¯·æ±‚æ–¹å¼**: POST

**åŠŸèƒ½è¯´æ˜**:
- åˆ›å»ºæ–°çš„å¾…åŠäº‹é¡¹

**è¯·æ±‚å‚æ•°**:
```json
{
    "title": "æ ‡é¢˜ (å¿…å¡«)",
    "description": "æè¿°",
    "due_date": "æˆªæ­¢æ—¥æœŸ",
    "estimated_duration": "é¢„ä¼°æ—¶é•¿ (åˆ†é’Ÿ)",
    "importance": "important/not-important",
    "urgency": "urgent/not-urgent",
    "groupID": "å…³è”ç»„ID"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success",
    "todo": {
        "id": "æ–°åˆ›å»ºçš„å¾…åŠID",
        ...
    }
}
```

---

### 3. `/api/todos/update/` - æ›´æ–°å¾…åŠ

**è§†å›¾å‡½æ•°**: `views.update_todo`

**è¯·æ±‚æ–¹å¼**: POST

**åŠŸèƒ½è¯´æ˜**:
- æ›´æ–°å¾…åŠäº‹é¡¹çš„ä¿¡æ¯

**è¯·æ±‚å‚æ•°**:
```json
{
    "id": "å¾…åŠID (å¿…å¡«)",
    "title": "æ–°æ ‡é¢˜",
    "description": "æ–°æè¿°",
    "due_date": "æ–°æˆªæ­¢æ—¥æœŸ",
    "estimated_duration": "æ–°é¢„ä¼°æ—¶é•¿",
    "importance": "æ–°é‡è¦æ€§",
    "urgency": "æ–°ç´§æ€¥æ€§",
    "groupID": "æ–°å…³è”ç»„",
    "status": "æ–°çŠ¶æ€"
}
```

**çŠ¶æ€å€¼**:
- `pending`: å¾…å¤„ç†
- `in-progress`: è¿›è¡Œä¸­
- `completed`: å·²å®Œæˆ
- `converted`: å·²è½¬ä¸ºæ—¥ç¨‹

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success"
}
```

---

### 4. `/api/todos/delete/` - åˆ é™¤å¾…åŠ

**è§†å›¾å‡½æ•°**: `views.delete_todo`

**è¯·æ±‚æ–¹å¼**: POST

**åŠŸèƒ½è¯´æ˜**:
- åˆ é™¤æŒ‡å®šçš„å¾…åŠäº‹é¡¹

**è¯·æ±‚å‚æ•°**:
```json
{
    "id": "å¾…åŠID (å¿…å¡«)"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success"
}
```

---

### 5. `/api/todos/convert/` - å¾…åŠè½¬æ—¥ç¨‹

**è§†å›¾å‡½æ•°**: `views.convert_todo_to_event`

**è¯·æ±‚æ–¹å¼**: POST

**åŠŸèƒ½è¯´æ˜**:
- å°†å¾…åŠäº‹é¡¹è½¬æ¢ä¸ºæ—¥ç¨‹äº‹ä»¶
- è‡ªåŠ¨ç»§æ‰¿å¾…åŠçš„å±æ€§
- æ ‡è®°å¾…åŠä¸º"å·²è½¬æ¢"çŠ¶æ€

**è¯·æ±‚å‚æ•°**:
```json
{
    "id": "å¾…åŠID (å¿…å¡«)",
    "start_time": "å¼€å§‹æ—¶é—´ (å¿…å¡«, ISOæ ¼å¼)",
    "end_time": "ç»“æŸæ—¶é—´ (å¿…å¡«, ISOæ ¼å¼)"
}
```

**è½¬æ¢é€»è¾‘**:
1. åˆ›å»ºæ–°æ—¥ç¨‹ï¼Œç»§æ‰¿å¾…åŠçš„ï¼š
   - æ ‡é¢˜ã€æè¿°
   - é‡è¦æ€§ã€ç´§æ€¥æ€§
   - å…³è”ç»„ID
   - æˆªæ­¢æ—¥æœŸ â†’ DDL
2. æ ‡è®°å¾…åŠçŠ¶æ€ä¸º `converted`
3. åœ¨å¾…åŠä¸­è®°å½•è½¬æ¢åçš„æ—¥ç¨‹ID

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success",
    "event": {
        "id": "æ–°åˆ›å»ºçš„æ—¥ç¨‹ID",
        "converted_from_todo": "åŸå¾…åŠID",
        ...
    }
}
```

**ç‰¹ç‚¹**:
- ğŸ”— åŒå‘å…³è”ï¼šå¾…åŠå’Œæ—¥ç¨‹äº’ç›¸è®°å½•ID
- ğŸ“Š ä¿æŒä¸€è‡´æ€§ï¼šå±æ€§å®Œæ•´ç»§æ‰¿
- ğŸ¯ çŠ¶æ€è¿½è¸ªï¼šå¯æŸ¥çœ‹å“ªäº›å¾…åŠå·²è½¬ä¸ºæ—¥ç¨‹

---

## âš™ï¸ ç”¨æˆ·è®¾ç½®æ¨¡å—

### 1. `/change_view/` - ä¿å­˜ç•Œé¢è®¾ç½®

**è§†å›¾å‡½æ•°**: `views.change_view`

**è¯·æ±‚æ–¹å¼**: POST

**åŠŸèƒ½è¯´æ˜**:
- ä¿å­˜ç”¨æˆ·çš„ç•Œé¢çŠ¶æ€å’Œåå¥½
- å­˜å‚¨è§†å›¾æ¨¡å¼ã€ç­›é€‰å™¨çŠ¶æ€ã€é¢æ¿å¸ƒå±€ç­‰

**è¯·æ±‚å‚æ•°**:
```json
{
    "user_interface_settings": {
        "todoViewMode": "list",         // å¾…åŠè§†å›¾æ¨¡å¼ (list/kanban/timeline)
        "todoFilters": {                // å¾…åŠç­›é€‰å™¨çŠ¶æ€
            "status": "all",            // all/pending/completed
            "priority": "all",          // all/high/medium/low
            "urgency": "all"            // all/urgent/not-urgent
        },
        "reminderFilters": {            // æé†’ç­›é€‰å™¨çŠ¶æ€
            "status": "active",         // active/all/completed
            "type": "all"               // all/single/recurring
        },
        "calendarFilters": {            // æ—¥å†ç­›é€‰å™¨çŠ¶æ€
            "categories": ["work", "personal"],  // æ˜¾ç¤ºçš„åˆ†ç±»
            "showCompleted": true       // æ˜¯å¦æ˜¾ç¤ºå·²å®Œæˆ
        },
        "calendarView": "dayGridMonth", // æ—¥å†è§†å›¾ (dayGridMonth/timeGridWeek/timeGridDay)
        "panelLayout": {                // é¢æ¿å¸ƒå±€
            "leftPanelWidth": 250,
            "rightPanelWidth": 300,
            "mainContentWidth": 1000
        }
    }
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success",
    "message": "ç•Œé¢è®¾ç½®å·²ä¿å­˜"
}
```

**ä½¿ç”¨åœºæ™¯**:
- ğŸ¨ ç”¨æˆ·åˆ‡æ¢è§†å›¾æ¨¡å¼æ—¶è‡ªåŠ¨ä¿å­˜
- ğŸ” è°ƒæ•´ç­›é€‰å™¨çŠ¶æ€åæŒä¹…åŒ–
- ğŸ“ æ‹–æ‹½è°ƒæ•´é¢æ¿å®½åº¦åä¿å­˜
- ğŸ”„ åˆ·æ–°é¡µé¢åæ¢å¤ç”¨æˆ·çš„ç•Œé¢çŠ¶æ€

**æ•°æ®å­˜å‚¨**: ä¿å­˜åˆ° `UserData` çš„ `user_interface_settings` é”®ä¸­

---

### 2. `/get_calendar/user_preferences/` - ç”¨æˆ·åå¥½è®¾ç½®é¡µé¢

**è§†å›¾å‡½æ•°**: `views.user_preferences`

**è¯·æ±‚æ–¹å¼**: GET, POST

**åŠŸèƒ½è¯´æ˜**:
- **GET**: æ¸²æŸ“ç”¨æˆ·åå¥½è®¾ç½®é¡µé¢
- **POST**: ä¿å­˜ç”¨æˆ·åå¥½é…ç½®

---

#### GET - æ˜¾ç¤ºè®¾ç½®é¡µé¢

**æ¨¡æ¿**: `user_preferences.html`

**åŠŸèƒ½**: å±•ç¤ºåå¥½è®¾ç½®è¡¨å•ï¼Œç”¨æˆ·å¯ä¿®æ”¹ï¼š
- å‘¨æ•°æ˜¾ç¤ºè®¾ç½®
- å·¥ä½œæ—¶é—´é…ç½®
- é»˜è®¤æ—¥ç¨‹æ—¶é•¿
- æ—¥å†é»˜è®¤è§†å›¾
- ä¸»é¢˜é€‰æ‹©

---

#### POST - ä¿å­˜åå¥½è®¾ç½®

**è¯·æ±‚å‚æ•°** (Form Data):
```json
{
    "week_number_start": {"month": 2, "day": 24},   // æ—§ç‰ˆå‘¨æ•°èµ·å§‹ï¼ˆå·²å¼ƒç”¨ï¼‰
    "week_number_periods": [                        // å¤šå­¦æœŸé…ç½®
        {"name": "æ˜¥å­£å­¦æœŸ", "month": 2, "day": 24},
        {"name": "ç§‹å­£å­¦æœŸ", "month": 9, "day": 1}
    ],
    "show_week_number": true,                       // æ˜¯å¦æ˜¾ç¤ºå‘¨æ•°
    "auto_ddl": true,                               // è‡ªåŠ¨è®¾ç½®DDL
    "default_event_duration": 60,                   // é»˜è®¤æ—¥ç¨‹æ—¶é•¿ (åˆ†é’Ÿ)
    "work_hours_start": "09:00",                    // å·¥ä½œå¼€å§‹æ—¶é—´
    "work_hours_end": "18:00",                      // å·¥ä½œç»“æŸæ—¶é—´
    "show_weekends": true,                          // æ˜¾ç¤ºå‘¨æœ«
    "week_starts_on": 1,                            // å‘¨èµ·å§‹ (0=å‘¨æ—¥, 1=å‘¨ä¸€)
    "calendar_view_default": "dayGridMonth",        // é»˜è®¤æ—¥å†è§†å›¾
    "theme": "light"                                // ä¸»é¢˜ (light/dark)
}
```

**å“åº”**: é‡å®šå‘å›åå¥½è®¾ç½®é¡µé¢

**ç‰¹ç‚¹**:
- â° **æ—¶åŒºè½¬æ¢**: ä½¿ç”¨ `add_8_hours_to_time_data()` è‡ªåŠ¨å¤„ç†æ—¶åŒºï¼ˆ+8å°æ—¶ï¼‰
- ğŸ“Š **æ•°æ®éªŒè¯**: ä½¿ç”¨ `DATA_SCHEMA` ç¡®ä¿æ•°æ®æ ¼å¼æ­£ç¡®
- ğŸ”§ **æŒä¹…åŒ–å­˜å‚¨**: ä¿å­˜åˆ° `UserData` çš„ `user_preference` é”®ä¸­

**æ—¶åŒºè½¬æ¢è¯´æ˜**:
```python
# ç”¨æˆ·è¾“å…¥ 09:00 â†’ å­˜å‚¨ä¸º 17:00 (åŠ 8å°æ—¶)
# ç”¨æˆ·è¾“å…¥ 18:00 â†’ å­˜å‚¨ä¸º 02:00 (åŠ 8å°æ—¶)
```

---

### 3. `/api/user/settings/` - ç”¨æˆ·è®¾ç½® API

**è§†å›¾å‡½æ•°**: `views.user_settings`

**è¯·æ±‚æ–¹å¼**: GET, POST

**åŠŸèƒ½è¯´æ˜**:
- **GET**: è·å–ç”¨æˆ·åå¥½è®¾ç½® JSON
- **POST**: å¼‚æ­¥ä¿å­˜ç”¨æˆ·è®¾ç½®

---

#### GET - è·å–è®¾ç½®

**åŠŸèƒ½**:
- è¿”å›å®Œæ•´çš„ç”¨æˆ·åå¥½è®¾ç½®
- æä¾›é»˜è®¤å€¼ï¼ˆæ–°ç”¨æˆ·ï¼‰
- è‡ªåŠ¨æ•°æ®è¿ç§»

**è¿”å›æ•°æ®**:
```json
{
    "week_number_start": {"month": 2, "day": 24},
    "week_number_periods": [
        {"name": "é»˜è®¤å­¦æœŸ", "month": 2, "day": 24}
    ],
    "show_week_number": true,
    "auto_ddl": true,
    "default_event_duration": 60,
    "work_hours_start": "09:00",
    "work_hours_end": "18:00",
    "show_weekends": true,
    "week_starts_on": 1,
    "calendar_view_default": "dayGridMonth",
    "theme": "light",
    "show_completed_events": true,
    "event_color_by": "default",
    "reminder_enabled": true,
    "default_reminder_time": 15,
    "reminder_sound": true,
    "ai_enabled": true,
    "ai_auto_suggest": false
}
```

**è‡ªåŠ¨æ•°æ®è¿ç§»**:
- æ£€æµ‹æ—§ç‰ˆ `week_number_start` å­—æ®µ
- è‡ªåŠ¨è½¬æ¢ä¸ºæ–°ç‰ˆ `week_number_periods` æ•°ç»„æ ¼å¼
- ä¿å­˜è¿ç§»åçš„æ•°æ®

**é»˜è®¤å€¼è¯´æ˜**:
- å¦‚æœç”¨æˆ·ä»æœªè®¾ç½®ï¼Œè¿”å›é¢„å®šä¹‰çš„é»˜è®¤é…ç½®
- ç¡®ä¿å‰ç«¯å§‹ç»ˆæœ‰å®Œæ•´çš„é…ç½®æ•°æ®

---

#### POST - ä¿å­˜è®¾ç½®

**è¯·æ±‚å‚æ•°** (JSON):
```json
{
    // åŒ GET è¿”å›çš„æ•°æ®ç»“æ„
    "theme": "dark",
    "show_week_number": false,
    "auto_ddl": false,
    ...
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success",
    "message": "è®¾ç½®å·²ä¿å­˜"
}
```

**é”™è¯¯å“åº”**:
```json
{
    "status": "error",
    "message": "è·å–è®¾ç½®å¤±è´¥: é”™è¯¯è¯¦æƒ…"
}
```

**ç‰¹ç‚¹**:
- âœ… **æ•°æ®éªŒè¯**: ä½¿ç”¨ `DATA_SCHEMA` éªŒè¯ (`check=True`)
- ğŸ”„ **å‘ä¸‹å…¼å®¹**: è‡ªåŠ¨å¤„ç†æ•°æ®æ ¼å¼å‡çº§
- ğŸ¯ **å‰ç«¯å‹å¥½**: JSON æ ¼å¼ï¼Œé€‚åˆ AJAX è°ƒç”¨

**ä½¿ç”¨åœºæ™¯**:
- ğŸ“± å‰ç«¯ JavaScript å¼‚æ­¥è·å–/ä¿å­˜è®¾ç½®
- ğŸ”„ é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–ç”¨æˆ·é…ç½®
- âš™ï¸ è®¾ç½®é¡µé¢å®æ—¶ä¿å­˜

**ä¸å…¶ä»–æ¥å£çš„åŒºåˆ«**:
- `/get_calendar/user_preferences/`: é¡µé¢æ¸²æŸ“ + è¡¨å•æäº¤ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰
- `/api/user/settings/`: JSON APIï¼ˆç°ä»£ AJAX æ–¹å¼ï¼‰
- `/change_view/`: ä»…ä¿å­˜ç•Œé¢çŠ¶æ€ï¼Œä¸åŒ…å«æ ¸å¿ƒåå¥½è®¾ç½®

---

## ğŸ”§ å…¶ä»–åŠŸèƒ½æ¨¡å—

### 1. `/api/reminders/mark-sent/` - æ ‡è®°é€šçŸ¥å·²å‘é€

**è§†å›¾å‡½æ•°**: `views.mark_notification_sent`

**è¯·æ±‚æ–¹å¼**: POST

**åŠŸèƒ½è¯´æ˜**:
- æ ‡è®°æé†’é€šçŸ¥å·²å‘é€ç»™ç”¨æˆ·
- å ä½å‡½æ•°ï¼Œç”¨äºè®°å½•é€šçŸ¥å‘é€å†å²

**è¯·æ±‚å‚æ•°**:
```json
{
    "reminder_id": "æé†’ID",
    "sent_time": "å‘é€æ—¶é—´"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success"
}
```

**çŠ¶æ€**: ğŸ“ å ä½å®ç°
- å½“å‰ä»…è¿”å›æˆåŠŸçŠ¶æ€
- TODO: å°†æ¥å¯ä»¥è®°å½•é€šçŸ¥å‘é€å†å²ï¼Œç”¨äºç»Ÿè®¡å’Œå®¡è®¡

**ä½¿ç”¨åœºæ™¯**:
- é€šçŸ¥ç³»ç»Ÿå‘é€æé†’åè°ƒç”¨
- è®°å½•ç”¨æˆ·æ”¶åˆ°é€šçŸ¥çš„æ—¶é—´
- é¿å…é‡å¤å‘é€é€šçŸ¥

---

### 2. `/friendly_link/` - å‹æƒ…é“¾æ¥é¡µé¢

**è§†å›¾å‡½æ•°**: `views.friendly_link`

**è¯·æ±‚æ–¹å¼**: GET

**åŠŸèƒ½è¯´æ˜**:
- æ˜¾ç¤ºå‹æƒ…é“¾æ¥é¡µé¢
- å±•ç¤ºåˆä½œä¼™ä¼´æˆ–ç›¸å…³ç½‘ç«™

**æ¨¡æ¿**: `memory.html`

**è¯´æ˜**: 
- ğŸ¤ ç”¨äºå±•ç¤ºå‹æƒ…é“¾æ¥
- ğŸ“œ æ¨¡æ¿åä¸º `memory.html`ï¼ˆå¯èƒ½æ˜¯å†å²åŸå› ï¼‰

---

### 3. `/three_body/` - ä¸‰ä½“å½©è›‹é¡µé¢

**è§†å›¾å‡½æ•°**: `views.three_body`

**è¯·æ±‚æ–¹å¼**: GET

**åŠŸèƒ½è¯´æ˜**:
- æ˜¾ç¤ºä¸‰ä½“ä¸»é¢˜å½©è›‹é¡µé¢
- å¯èƒ½åŒ…å«ç‰¹æ®ŠåŠ¨ç”»æˆ–ä¸»é¢˜

**æ¨¡æ¿**: `three_body.html`

**è¯´æ˜**: 
- ğŸ¨ ç‰¹æ®Šä¸»é¢˜é¡µé¢
- ğŸ å¯èƒ½æ˜¯é¡¹ç›®çš„å½©è›‹æˆ–ç‰¹è‰²åŠŸèƒ½

---

### 4. `/help/` - å¸®åŠ©æ–‡æ¡£é¡µé¢

**è§†å›¾å‡½æ•°**: `views.help_page`

**è¯·æ±‚æ–¹å¼**: GET

**åŠŸèƒ½è¯´æ˜**:
- æ˜¾ç¤ºç”¨æˆ·å¸®åŠ©æ–‡æ¡£
- æä¾›åŠŸèƒ½ä½¿ç”¨æŒ‡å—

**æ¨¡æ¿**: `help.html`

**è¯´æ˜**: 
- ğŸ“– ç”¨æˆ·å¸®åŠ©ä¸­å¿ƒ
- ğŸ’¡ åŠŸèƒ½è¯´æ˜å’Œä½¿ç”¨æ•™ç¨‹

---

### 5. `/user_data/` - ç”¨æˆ·æ•°æ®ç®¡ç†é¡µé¢

**è§†å›¾å‡½æ•°**: `views.user_data`

**è¯·æ±‚æ–¹å¼**: GET

**æƒé™è¦æ±‚**: éœ€è¦ç™»å½•

**åŠŸèƒ½è¯´æ˜**:
- æ˜¾ç¤ºç”¨æˆ·çš„æ‰€æœ‰ UserData è®°å½•
- ç”¨äºè°ƒè¯•å’Œæ•°æ®ç®¡ç†

**æ¨¡æ¿**: `user_data.html`

**è¿”å›æ•°æ®**:
- æŸ¥è¯¢å½“å‰ç”¨æˆ·çš„æ‰€æœ‰ `UserData` å¯¹è±¡
- å±•ç¤ºæ‰€æœ‰ key-value æ•°æ®

**ä½¿ç”¨åœºæ™¯**:
- ğŸ” å¼€å‘è°ƒè¯•ï¼šæŸ¥çœ‹ç”¨æˆ·æ•°æ®ç»“æ„
- ğŸ› ï¸ æ•°æ®ç®¡ç†ï¼šæ£€æŸ¥å­˜å‚¨çš„é…ç½®
- ğŸ“Š æ•°æ®å®¡è®¡ï¼šäº†è§£ç”¨æˆ·è®¾ç½®çš„å®Œæ•´çŠ¶æ€

---

## ğŸ“Š URL ç»Ÿè®¡æ€»ç»“

### æŒ‰æ¨¡å—åˆ†ç±»

| æ¨¡å— | URL æ•°é‡ | è¯´æ˜ |
|------|----------|------|
| ğŸ“„ é¡µé¢è·¯ç”± | 9 | é¦–é¡µã€å…³äºã€ç™»å½•æ³¨å†Œç­‰é¡µé¢ |
| ğŸ“… Events æ—¥ç¨‹ç®¡ç† | 13 | æ—¥ç¨‹ CRUDã€æ—¥ç¨‹ç»„ç®¡ç†ã€å¯¼å…¥å¯¼å‡º |
| ğŸ”” Reminders æé†’ç®¡ç† | 12 | æé†’ CRUDã€é‡å¤æé†’ã€çŠ¶æ€ç®¡ç† |
| âœ… Todos å¾…åŠç®¡ç† | 5 | å¾…åŠ CRUDã€è½¬æ¢ä¸ºæ—¥ç¨‹ |
| âš™ï¸ ç”¨æˆ·è®¾ç½® | 3 | ç•Œé¢è®¾ç½®ã€åå¥½é…ç½® API |
| ğŸ”§ å…¶ä»–åŠŸèƒ½ | 5 | é€šçŸ¥æ ‡è®°ã€å¸®åŠ©é¡µé¢ã€å½©è›‹ |
| **æ€»è®¡** | **47** | |

### æŒ‰åŠŸèƒ½ç±»å‹åˆ†ç±»

| ç±»å‹ | URL æ•°é‡ |
|------|----------|
| ğŸŒ é¡µé¢æ¸²æŸ“ (GET) | 15 |
| ğŸ“¡ æ•°æ® API (GET) | 7 |
| âœï¸ åˆ›å»º/æ›´æ–° (POST/PUT) | 16 |
| ğŸ—‘ï¸ åˆ é™¤ (POST/DELETE) | 4 |
| ğŸ”„ æ‰¹é‡æ“ä½œ (POST) | 3 |
| ğŸ” çŠ¶æ€åˆ‡æ¢ (POST) | 2 |

### é‡è¦ API é€ŸæŸ¥

**æœ€å¸¸ç”¨çš„ API**:
- `GET /get_calendar/events/` - è·å–æ‰€æœ‰æ—¥ç¨‹
- `POST /get_calendar/update_events/` - æ›´æ–°æ—¥ç¨‹ï¼ˆå¿«é€Ÿï¼‰
- `POST /api/events/bulk-edit/` - æ‰¹é‡ç¼–è¾‘æ—¥ç¨‹ï¼ˆå¤æ‚ï¼‰
- `GET /api/reminders/` - è·å–æ‰€æœ‰æé†’
- `POST /api/reminders/bulk-edit/` - æ‰¹é‡ç¼–è¾‘æé†’
- `GET /api/todos/` - è·å–æ‰€æœ‰å¾…åŠ
- `GET /api/user/settings/` - è·å–ç”¨æˆ·è®¾ç½®

**å·²å¼ƒç”¨çš„ API**:
- `/get_calendar/delete_event/` - ä½¿ç”¨ `/api/events/bulk-edit/` æ›¿ä»£
- `/api/reminders/snooze/` - ä½¿ç”¨ `/api/reminders/update-status/` æ›¿ä»£
- `/api/reminders/dismiss/` - ä½¿ç”¨ `/api/reminders/update-status/` æ›¿ä»£
- `/api/reminders/complete/` - ä½¿ç”¨ `/api/reminders/update-status/` æ›¿ä»£

---

## ğŸ¯ ä½¿ç”¨å»ºè®®

### æ—¥ç¨‹æ“ä½œ

**å¿«é€Ÿæ›´æ–°å•ä¸ªæ—¥ç¨‹**:
```javascript
POST /get_calendar/update_events/
{
    "id": "event-123",
    "start": "2025-01-20T10:00:00",
    "end": "2025-01-20T11:00:00"
}
```

**å¤æ‚æ‰¹é‡æ“ä½œ**:
```javascript
POST /api/events/bulk-edit/
{
    "operation": "edit",
    "event_id": "event-123",
    "edit_scope": "all",
    "title": "æ–°æ ‡é¢˜",
    "rrule": "FREQ=WEEKLY;BYDAY=MO,WE"
}
```

### æé†’æ“ä½œ

**åˆ›å»ºé‡å¤æé†’**:
```javascript
POST /api/reminders/create/
{
    "title": "æ¯å¤©å–æ°´",
    "trigger_time": "2025-01-20T09:00:00",
    "rrule": "FREQ=DAILY;INTERVAL=1"
}
```

**ä¿®æ”¹æé†’çŠ¶æ€**:
```javascript
POST /api/reminders/update-status/
{
    "id": "reminder-456",
    "status": "completed"
}
```

### è®¾ç½®ä¿å­˜

**ä¿å­˜ç•Œé¢çŠ¶æ€**:
```javascript
POST /change_view/
{
    "user_interface_settings": {
        "calendarView": "timeGridWeek",
        "panelLayout": { "leftPanelWidth": 300 }
    }
}
```

**ä¿å­˜ç”¨æˆ·åå¥½**:
```javascript
POST /api/user/settings/
{
    "theme": "dark",
    "auto_ddl": true,
    "work_hours_start": "09:00"
}
```

---

## ğŸ“ æ›´æ–°æ—¥å¿—

- **2025-01-07**: 
  - âœ… åˆ›å»ºæ–‡æ¡£ç»“æ„
  - âœ… å®Œæˆé¡µé¢è·¯ç”±æ¨¡å—åˆ†æï¼ˆ9ä¸ªURLï¼‰
  - âœ… å®Œæˆ Events æ—¥ç¨‹ç®¡ç†æ¨¡å—åˆ†æï¼ˆ13ä¸ªURLï¼‰
  - âœ… å®Œæˆ Reminders æé†’ç®¡ç†æ¨¡å—åˆ†æï¼ˆ12ä¸ªURLï¼‰
  - âœ… å®Œæˆ Todos å¾…åŠç®¡ç†æ¨¡å—åˆ†æï¼ˆ5ä¸ªURLï¼‰
  - âœ… å®Œæˆç”¨æˆ·è®¾ç½®æ¨¡å—åˆ†æï¼ˆ3ä¸ªURLï¼‰
  - âœ… å®Œæˆå…¶ä»–åŠŸèƒ½æ¨¡å—åˆ†æï¼ˆ5ä¸ªURLï¼‰
  - âœ… æ·»åŠ ç»Ÿè®¡æ€»ç»“å’Œä½¿ç”¨å»ºè®®
  - ğŸ“Š **æ€»è®¡åˆ†æ 47 ä¸ª URL**

---

## ğŸ“Œ æ–‡æ¡£è¯´æ˜

### æ–‡æ¡£ç›®çš„
æœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº† `core` åº”ç”¨çš„æ‰€æœ‰ URL è·¯ç”±åŠå…¶åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š
- è¯·æ±‚å‚æ•°å’Œå“åº”æ ¼å¼
- ä½¿ç”¨åœºæ™¯å’Œæœ€ä½³å®è·µ
- API ä¹‹é—´çš„å…³ç³»å’ŒåŒºåˆ«
- å·²å¼ƒç”¨çš„æ¥å£å’Œæ›¿ä»£æ–¹æ¡ˆ

### ç»´æŠ¤å»ºè®®
- âœï¸ æ·»åŠ æ–° URL æ—¶ï¼Œè¯·åŒæ­¥æ›´æ–°æ­¤æ–‡æ¡£
- ğŸ”„ ä¿®æ”¹ API è¡Œä¸ºæ—¶ï¼Œæ›´æ–°å¯¹åº”ç« èŠ‚
- âš ï¸ æ ‡è®°å¼ƒç”¨çš„ API å¹¶æä¾›æ›¿ä»£æ–¹æ¡ˆ
- ğŸ“Š å®šæœŸæ›´æ–°ç»Ÿè®¡æ•°æ®

### ç›¸å…³æ–‡æ¡£
- `å¼€å‘æ–‡æ¡£.md` - é¡¹ç›®æ•´ä½“æ¶æ„å’ŒåŠŸèƒ½è¯´æ˜
- `models.py` - æ•°æ®æ¨¡å‹å®šä¹‰
- `views_events.py` - Events æ¨¡å—å®ç°
- `views_reminder.py` - Reminders æ¨¡å—å®ç°
- `RRuleåŠŸèƒ½è¯´æ˜.md` - é‡å¤äº‹ä»¶å¼•æ“æ–‡æ¡£

---

## ğŸ‰ æ–‡æ¡£å®Œæˆ

æœ¬æ–‡æ¡£å·²å®Œæ•´åˆ†æäº† `core/urls.py` ä¸­çš„æ‰€æœ‰ 47 ä¸ª URL è·¯ç”±ã€‚
å¦‚æœ‰é—®é¢˜æˆ–éœ€è¦è¡¥å……ï¼Œè¯·éšæ—¶æ›´æ–°ã€‚

**æœ€åæ›´æ–°**: 2025-01-07
**ç»´æŠ¤è€…**: MoMoJee
**ç‰ˆæœ¬**: v1.0

